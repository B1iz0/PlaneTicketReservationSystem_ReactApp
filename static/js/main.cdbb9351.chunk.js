(this["webpackJsonpplane-ticket-reservation-system_react-app"]=this["webpackJsonpplane-ticket-reservation-system_react-app"]||[]).push([[0],{429:function(e,t,n){},430:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),o=n(13),s=n(3),u=n(63),l=n(23),j=n(200),d=n(492),b=n(518),p=n(80),f=n(436),O=n(437),m=n(438),h=n(488),g=n(484),x=n(485),v=n(486),y=n(487),w="api/airplanes",N="api/airports",S="api/flights",k="api/users",C="api/companies",T="api/places",I="api/prices",F=n(1),A=Object(j.a)((function(e){return{drawer:{width:240},drawerPaper:{width:240},active:{background:"#f4f4f4"},title:{padding:e.spacing(2)}}})),P=function(){var e=A(),t=Object(l.g)(),n=Object(l.h)(),a=[{text:"Users",icon:Object(F.jsx)(g.a,{color:"primary"}),path:"/admin/users"},{text:"Companies",icon:Object(F.jsx)(x.a,{color:"primary"}),path:"/admin/companies"},{text:"Airplanes",icon:Object(F.jsx)(v.a,{color:"primary"}),path:"/admin/airplanes"},{text:"Flights",icon:Object(F.jsx)(y.a,{color:"primary"}),path:"/admin/flights"}];return Object(F.jsxs)(b.a,{className:e.drawer,variant:"permanent",anchor:"left",classes:{paper:e.drawerPaper},children:[Object(F.jsx)("div",{children:Object(F.jsx)(p.a,{variant:"h5",className:e.title,children:"Admin panel"})}),Object(F.jsx)(f.a,{children:a.map((function(a){return Object(F.jsxs)(O.a,{button:!0,onClick:function(){return t.push(a.path)},className:n.pathname===a.path?e.active:null,children:[Object(F.jsx)(m.a,{children:a.icon}),Object(F.jsx)(h.a,{primary:a.text})]},a.text)}))})]})},D=n(490),B=n(491),V=n(489),E=n(4),q=n.n(E),M=n(7),W=n(183),R=n.n(W),L=n(88),K=Object(L.b)({name:"token",initialState:{jwtToken:localStorage.getItem("jwtToken"),refreshToken:localStorage.getItem("refreshToken")},reducers:{setJwtToken:function(e,t){e.jwtToken=t.payload},removeJwtToken:function(e){e.jwtToken=""},setRefreshToken:function(e,t){e.refreshToken=t.payload},removeRefreshToken:function(e){e.refreshToken=""}}}),z=K.actions,H=z.setJwtToken,U=z.removeJwtToken,J=z.setRefreshToken,$=z.removeRefreshToken,_=K.reducer,G=Object(L.b)({name:"customerInfo",initialState:{firstName:{value:"",isValid:!0},lastName:{value:"",isValid:!0},email:{value:"",isValid:!0},phone:""},reducers:{setFirstName:function(e,t){e.firstName.value=t.payload},setFirstNameValid:function(e,t){e.firstName.isValid=t.payload},setLastName:function(e,t){e.lastName.value=t.payload},setLastNameValid:function(e,t){e.lastName.isValid=t.payload},setEmail:function(e,t){e.email.value=t.payload},setEmailValid:function(e,t){e.email.isValid=t.payload},setPhone:function(e,t){e.phone=t.payload}}}),Y=G.actions,Z=Y.setFirstName,Q=Y.setFirstNameValid,X=Y.setLastName,ee=Y.setLastNameValid,te=Y.setEmail,ne=Y.setEmailValid,ae=Y.setPhone,re=G.reducer,ce=Object(L.b)({name:"notifications",initialState:{simpleSuccessNotificationText:"",isSimpleSuccessNotificationActive:!1,failedNotificationText:"",isFailedNotificationActive:!1,isBookingCreationActive:!1,isCompanyCreationActive:!1},reducers:{setSimpleSuccessNotificationText:function(e,t){e.simpleSuccessNotificationText=t.payload},setIsSimpleSuccessNotificationActive:function(e,t){e.isSimpleSuccessNotificationActive=t.payload},setFailedNotificationText:function(e,t){e.failedNotificationText=t.payload},setIsFailedNotificationActive:function(e,t){e.isFailedNotificationActive=t.payload},setIsBookingCreationActive:function(e,t){e.isBookingCreationActive=t.payload},setIsCompanyCreationActive:function(e,t){e.isCompanyCreationActive=t.payload}}}),ie=ce.actions,oe=ie.setSimpleSuccessNotificationText,se=ie.setIsSimpleSuccessNotificationActive,ue=(ie.setFailedNotificationText,ie.setIsFailedNotificationActive,ie.setIsBookingCreationActive),le=(ie.setIsCompanyCreationActive,ce.reducer),je=Object(L.a)({reducer:{token:_,customerInfo:re,notifications:le}}),de=R.a.create({baseURL:"https://ptrbackend.herokuapp.com",responseType:"json"});de.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),de.interceptors.response.use((function(e){return e}),(function(e){var t=e.config;return t.url==="".concat(k,"/refresh-token")&&(xe(),window.location.href="/SignIn"),401!==e.response.status||t._retry?Promise.reject(e):(t._retry=!0,ve(je.getState().token.refreshToken).then((function(){return t.headers.Authorization="Bearer ".concat(je.getState().token.jwtToken),R()(t)})))}));var be=function(e){return{headers:{Authorization:"Bearer ".concat(e)}}},pe=de,fe=function(e){try{return JSON.parse(atob(e.split(".")[1])).email}catch(t){return null}},Oe=function(e){try{return JSON.parse(atob(e.split(".")[1])).role}catch(t){return"User"}},me=function(e){try{return JSON.parse(atob(e.split(".")[1])).id}catch(t){return null}},he=function(e){try{return JSON.parse(atob(e.split(".")[1])).companyId}catch(t){return null}},ge=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem("jwtToken",t.jwtToken),localStorage.setItem("refreshToken",t.refreshToken),je.dispatch(H(t.jwtToken)),je.dispatch(J(t.refreshToken));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){localStorage.removeItem("jwtToken"),localStorage.removeItem("refreshToken"),je.dispatch(U()),je.dispatch($())},ve=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.post("".concat(k,"/refresh-token"),{refreshToken:t}).then((function(e){return e.data})).then(function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=n(97),we=n(15),Ne=n(260),Se=n(186),ke=n(106),Ce=n(185),Te=n(90),Ie=n(187),Fe=n(239),Ae=n.n(Fe),Pe=Object(j.a)((function(e){return{root:{display:"flex",zIndex:5},paper:{marginRight:e.spacing(2)},accountIcon:{marginRight:e.spacing(1)}}})),De=function(e){var t=e.userEmail,n=Object(o.c)((function(e){return e.token})),r=Pe(),c=Object(a.useState)(!1),i=Object(s.a)(c,2),u=i[0],j=i[1],d=Object(a.useRef)(null),b=Object(o.b)(),p=Object(l.g)(),f=Object(a.useState)(""),O=Object(s.a)(f,2),m=O[0],h=O[1];Object(a.useEffect)((function(){h(Oe(n.jwtToken))}),[n.jwtToken]);var g=function(e){d.current&&d.current.contains(e.target)||j(!1)},x=function(e){localStorage.removeItem("jwtToken"),localStorage.removeItem("refreshToken"),b(U()),b($()),g(e),p.push("/")},v=function(e){g(e),p.push("/account")},y=function(e){g(e),p.push("/myCompany")};function w(e){"Tab"===e.key&&(e.preventDefault(),j(!1))}var N=Object(a.useRef)(u);return Object(a.useEffect)((function(){!0===N.current&&!1===u&&d.current.focus(),N.current=u}),[u]),Object(F.jsxs)("div",{className:r.root,children:[Object(F.jsxs)(ye.a,{ref:d,"aria-controls":u?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){j((function(e){return!e}))},children:[Object(F.jsx)(Ae.a,{className:r.accountIcon}),t]}),Object(F.jsx)(Ce.a,{open:u,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(F.jsx)(Se.a,Object(we.a)(Object(we.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(F.jsx)(ke.a,{children:Object(F.jsx)(Ne.a,{onClickAway:g,children:Object(F.jsxs)(Ie.a,{autoFocusItem:u,id:"menu-list-grow",onKeyDown:w,children:[Object(F.jsx)(Te.a,{onClick:v,children:"My profile"}),"Admin"===m?Object(F.jsx)(Te.a,{onClick:y,children:"My company"}):null,Object(F.jsx)(Te.a,{onClick:x,children:"Logout"})]})})})}))}})]})},Be=function(e){var t=e.userEmail;return t?Object(F.jsx)(De,{userEmail:t}):Object(F.jsx)(ye.a,{href:"#/SignIn",variant:"contained",color:"primary",children:"Sign in"})},Ve=Object(j.a)((function(e){return{title:{flexGrow:1},appBar:{width:function(e){return"AdminApp"===e.role?"calc(100% - ".concat(240,"px)"):"100%"},position:"fixed"}}})),Ee=function(){var e=Object(o.c)((function(e){return e.token})),t=Object(a.useState)(""),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)("User"),u=Object(s.a)(i,2),l=u[0],j=u[1],d=Ve({role:l});return Object(a.useEffect)((function(){c(fe(e.jwtToken)),j(Oe(e.jwtToken))}),[e.jwtToken]),Object(F.jsx)(V.a,{color:"default",className:d.appBar,children:Object(F.jsxs)(D.a,{children:[Object(F.jsx)(B.a,{variant:"h5",href:"/",color:"inherit",underline:"none",className:d.title,children:"Plane ticket reservation"}),Object(F.jsx)(Be,{userEmail:r})]})})},qe=function(){return Object(F.jsx)("footer",{})},Me=n(188),We=n(494),Re=function(e){var t={isNotValid:!0,errorMessage:""};return""===e?(t.isNotValid=!0,t.errorMessage="Email is required.",t):"admin"===e||/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e)?(t.isNotValid=!1,t):(t.isNotValid=!0,t.errorMessage="Incorrect entry.",t)},Le=function(e){var t={isNotValid:!0,errorMessage:""};return""===e?(t.isNotValid=!0,t.errorMessage="Password is required.",t):/(?=.*[0-9])(?=.*[a-zA-Z]){6,}/.test(e)?(t.isNotValid=!1,t):(t.isNotValid=!0,t.errorMessage="At least 6 characters (both Latin letter and digit).",t)},Ke=function(e,t){var n={isNotValid:!0,errorMessage:""};return e!==t?(n.isNotValid=!0,n.errorMessage="Password do not match.",n):(n.isNotValid=!1,n)},ze=function(e){var t={isNotValid:!0,errorMessage:""};return""===e?(t.isNotValid=!0,t.errorMessage="First name is required.",t):(t.isNotValid=!1,t)},He=function(e){var t={isNotValid:!0,errorMessage:""};return""===e?(t.isNotValid=!0,t.errorMessage="Last name is required.",t):(t.isNotValid=!1,t)},Ue=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorSignIn:{color:"#ff0000"}}})),Je=function(){var e=Object(l.g)(),t=Ue(),n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),j=u[0],b=u[1],f=Object(a.useState)(!1),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(!1),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)(""),N=Object(s.a)(w,2),S=N[0],C=N[1],T=Object(a.useState)("Email is required."),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)("Password is required."),V=Object(s.a)(D,2),E=V[0],W=V[1];function R(){return(R=Object(M.a)(q.a.mark((function t(n){var a,r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Re(c);case 3:return a=t.sent,h(a.isNotValid),P(a.errorMessage),t.next=8,Le(j);case 8:if(r=t.sent,y(r.isNotValid),W(r.errorMessage),!a.isNotValid&&!r.isNotValid){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,pe.post("".concat(k,"/authenticate"),{email:c,password:j}).then((function(t){ge(t.data),e.push("/")})).catch((function(e){e.response&&(console.log(e.response.data),C(e.response.data.message))}));case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(F.jsx)(d.a,{maxWidth:"xs",children:Object(F.jsxs)("div",{className:t.paper,children:[Object(F.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(F.jsxs)("form",{className:t.form,children:[Object(F.jsx)(Me.a,{error:m,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return i(e.target.value)},autoFocus:!0,helperText:m?A:""}),Object(F.jsx)(Me.a,{error:v,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)},helperText:v?E:""}),Object(F.jsx)("label",{className:t.errorSignIn,children:S}),Object(F.jsx)(ye.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return R.apply(this,arguments)},children:"Sign In"}),Object(F.jsx)(We.a,{container:!0,children:Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(B.a,{href:"#/SignUp",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})})},$e=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),_e=function(){var e=Object(l.g)(),t=$e(),n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(""),u=Object(s.a)(o,2),j=u[0],b=u[1],f=Object(a.useState)(""),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(""),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)(""),N=Object(s.a)(w,2),S=N[0],C=N[1],T=Object(a.useState)(!1),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)(!1),V=Object(s.a)(D,2),E=V[0],W=V[1],R=Object(a.useState)(!1),L=Object(s.a)(R,2),K=L[0],z=L[1],H=Object(a.useState)(!1),U=Object(s.a)(H,2),J=U[0],$=U[1],_=Object(a.useState)(!1),G=Object(s.a)(_,2),Y=G[0],Z=G[1],Q=Object(a.useState)(""),X=Object(s.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)("Email is required."),ae=Object(s.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(a.useState)("Password is required."),oe=Object(s.a)(ie,2),se=oe[0],ue=oe[1],le=Object(a.useState)("Repeat password."),je=Object(s.a)(le,2),de=je[0],be=je[1],fe=Object(a.useState)("First name is required."),Oe=Object(s.a)(fe,2),me=Oe[0],he=Oe[1],xe=Object(a.useState)("Last name is required."),ve=Object(s.a)(xe,2),we=ve[0],Ne=ve[1];function Se(){return(Se=Object(M.a)(q.a.mark((function t(n){var a,r,i,o,s;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,Re(c);case 3:return a=t.sent,P(a.isNotValid),ce(a.errorMessage),t.next=8,Le(j);case 8:return r=t.sent,W(r.isNotValid),ue(r.errorMessage),t.next=13,Ke(m,j);case 13:return i=t.sent,z(i.isNotValid),be(i.errorMessage),t.next=18,ze(v);case 18:return o=t.sent,$(o.isNotValid),he(o.errorMessage),t.next=23,He(S);case 23:if(s=t.sent,Z(s.isNotValid),Ne(s.errorMessage),!(a.isNotValid||r.isNotValid||i.isNotValid||o.isNotValid||s.isNotValid)){t.next=28;break}return t.abrupt("return");case 28:pe.post("".concat(k,"/registration"),{email:c,password:j,firstName:v,lastName:S}).then((function(t){ge(t.data),e.push("/Flights")})).catch((function(e){e.response&&(console.log(e.response.data),te(e.response.data.message)),console.log(e)}));case 29:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(F.jsx)(d.a,{maxWidth:"xs",children:Object(F.jsxs)("div",{className:t.paper,children:[Object(F.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(F.jsxs)("form",{className:t.form,children:[Object(F.jsx)(Me.a,{error:A,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:function(e){return i(e.target.value)},autoFocus:!0,helperText:A?re:""}),Object(F.jsx)(Me.a,{error:E,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return b(e.target.value)},helperText:E?se:""}),Object(F.jsx)(Me.a,{error:K,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"repeatedPassword",label:"Repeat Password",type:"password",id:"repeatedPassword",autoComplete:"repeated-password",onChange:function(e){return h(e.target.value)},helperText:K?de:""}),Object(F.jsx)(Me.a,{error:J,variant:"outlined",margin:"normal",fullWidth:!0,id:"firstname",label:"First Name",name:"firstName",required:!0,onChange:function(e){return y(e.target.value)},helperText:J?me:""}),Object(F.jsx)(Me.a,{error:Y,variant:"outlined",margin:"normal",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",required:!0,onChange:function(e){return C(e.target.value)},helperText:Y?we:""}),Object(F.jsx)("label",{className:t.errorSignIn,children:ee}),Object(F.jsx)(ye.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(e){return Se.apply(this,arguments)},children:"Sign Up"}),Object(F.jsx)(We.a,{container:!0,children:Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(B.a,{href:"/SignIn",variant:"body2",children:"Have an account? Sign In"})})})]})]})})},Ge=n(519),Ye=n(73),Ze=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.post("".concat(k,"/registration"),{email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName}).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(M.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().token,e.next=3,pe.get("".concat(k,"/myself"),be(t.jwtToken)).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(M.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=je.getState().token,e.next=3,pe.get("".concat(k,"/free"),be(t.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.get("".concat(k,"/managers?companyId=").concat(t),be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=Object(M.a)(q.a.mark((function e(t,n){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=je.getState().token,e.next=3,pe.post("".concat(k,"/").concat(t,"/assignCompany?companyId=").concat(n),{},be(a.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nt=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r){var c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=je.getState().token,i=be(c.jwtToken).headers,e.next=4,pe.get("".concat(k),{params:{offset:t,limit:5,email:n,firstName:a,lastName:r},headers:i}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),at=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a){var r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=je.getState().token,c=be(r.jwtToken).headers,e.next=4,pe.get("".concat("api/users/count"),{params:{email:t,firstName:n,lastName:a},headers:c}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),rt=Object(j.a)((function(e){return{largeAvatar:{width:e.spacing(20),height:e.spacing(20)},userEmail:{alignSelf:"flex-end"},userEmailText:{fontSize:"large"},userName:{alignSelf:"flex-start"},userNameText:{fontSize:"large"},bookingsTable:{minHeight:400}}})),ct=function(){var e=rt(),t=Object(a.useState)(),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],l=o[1];Object(a.useEffect)((function(){function e(){return(e=Object(M.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){var e=null===r||void 0===r?void 0:r.bookings.map((function(e){return{id:e.id,flightNumber:e.flight.flightNumber,airplaneModel:e.flight.airplane.model,departureAirport:e.flight.from.name,arrivalAirport:e.flight.to.name,departureTime:e.flight.departureTime,arrivalTime:e.flight.arrivalTime}}));l((function(){return e||[]}))}),[r]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(p.a,{gutterBottom:!0,variant:"h2",children:"My profile"}),Object(F.jsx)("div",{children:Object(F.jsxs)(We.a,{container:!0,justify:"center",children:[Object(F.jsx)(We.a,{item:!0,lg:2,children:Object(F.jsx)(Ge.a,{alt:null===r||void 0===r?void 0:r.lastName,className:e.largeAvatar})}),Object(F.jsxs)(We.a,{item:!0,lg:6,container:!0,children:[Object(F.jsx)(We.a,{item:!0,lg:12,className:e.userEmail,children:Object(F.jsx)(p.a,{variant:"overline",className:e.userEmailText,children:null===r||void 0===r?void 0:r.email})}),Object(F.jsx)(We.a,{item:!0,lg:12,className:e.userName,children:Object(F.jsxs)(p.a,{variant:"overline",className:e.userNameText,children:[null===r||void 0===r?void 0:r.firstName," ",null===r||void 0===r?void 0:r.lastName]})})]})]})}),Object(F.jsxs)("div",{children:[Object(F.jsx)(p.a,{variant:"h4",gutterBottom:!0,children:"My bookings"}),Object(F.jsx)(Ye.a,{className:e.bookingsTable,columns:[{field:"flightNumber",headerName:"Flight Number",width:150},{field:"airplaneModel",headerName:"Airplane model",width:200},{field:"departureAirport",headerName:"Departure airport",width:200},{field:"arrivalAirport",headerName:"Arrival airport",width:200},{field:"departureTime",headerName:"Departure time",width:200},{field:"arrivalTime",headerName:"Arrival time",width:200}],rows:u,pageSize:5,checkboxSelection:!1,disableColumnMenu:!0,disableSelectionOnClick:!0})]})]})},it=n(159),ot=n(514),st=n(501),ut=n(512),lt=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/companies/all")).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(C),{params:{offset:t,limit:5,companyName:n,countryName:a}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),dt=function(){var e=Object(M.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/companies/count"),{params:{companyName:t,countryName:n}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(C,"/all")).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.get("".concat(C,"/").concat(t),be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.post("".concat(C),{name:t.name,countryId:t.countryId},be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.put("".concat(C,"/").concat(t.id),{name:t.name,countryId:t.countryId},be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.delete("".concat(C,"/").concat(t),be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=n(12),gt=n(190),xt=n(108),vt=n(104),yt=n.n(vt),wt=n(447),Nt=n(241),St=n.n(Nt),kt=Object(j.a)((function(e){return{tableFooter:{padding:e.spacing(1)},addButton:{height:e.spacing(6),width:e.spacing(6)}}})),Ct=function(e){var t=e.onAddClick,n=e.rowCount,a=e.page,r=e.onPageChange,c=kt();return Object(F.jsx)("div",{className:c.tableFooter,children:Object(F.jsxs)(We.a,{container:!0,justify:"space-between",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(xt.a,{size:"small",color:"primary",onClick:function(){return t()},children:Object(F.jsx)(St.a,{className:c.addButton})})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(wt.a,{component:"div",count:n,page:a,rowsPerPage:5,rowsPerPageOptions:[5],onChangePage:function(e,t){return r(e,t)}})})]})})},Tt=Object(j.a)((function(e){return{tableHeader:{display:"flex",justifyContent:"flex-end"},grid:{minHeight:400,width:"100%"}}})),It=function(e){var t=e.page,n=e.rows,a=e.columns,r=e.onPageChange,c=e.rowCount,i=e.onAddClick,o=Tt(),s=function(e,t){r(t)};return Object(F.jsx)(Ye.a,{rows:n,columns:a,rowCount:c,pageSize:5,checkboxSelection:!1,disableColumnMenu:!0,disableSelectionOnClick:!0,className:o.grid,components:{Footer:function(){return Object(F.jsx)(Ct,{onAddClick:i,rowCount:c,page:t,onPageChange:s})}}})},Ft=n(515),At=Object(j.a)((function(e){return{field:{width:200},searchButton:{height:40}}})),Pt=function(e){var t=e.fields,n=e.fieldsOptions,r=e.onFilterConfirmed,c=e.onSearchClick,i=e.disableOptions,o=void 0!==i&&i,u=At(),l=Object(a.useState)(t.map((function(){return""}))),j=Object(s.a)(l,2),d=j[0],b=j[1];Object(a.useEffect)((function(){r(d)}),[d]);return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(We.a,{container:!0,spacing:1,alignItems:"center",justify:"center",children:[t.map((function(e,t){return Object(F.jsx)(We.a,{item:!0,children:o?Object(F.jsx)(Me.a,{label:e,variant:"outlined",onChange:function(e){b([].concat(Object(ht.a)(d.slice(0,t)),[e.target.value],Object(ht.a)(d.slice(t+1))))}}):Object(F.jsx)(Ft.a,{freeSolo:!0,id:"filter".concat(t),options:n[t],getOptionLabel:function(e){return e.name||e},className:u.field,inputValue:d[t],onInputChange:function(e,n){b([].concat(Object(ht.a)(d.slice(0,t)),[n],Object(ht.a)(d.slice(t+1))))},renderInput:function(t){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},t),{},{label:e,variant:"outlined"}))}})},t)})),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",className:u.searchButton,onClick:function(){c(d)},children:"Search"})]})})},Dt=n(497),Bt=n(498),Vt=n(151),Et=n.n(Vt),qt=n(242),Mt=n.n(qt),Wt=Object(j.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Rt(e){return Object(F.jsx)(Mt.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]',children:Object(F.jsx)(ke.a,Object(we.a)({},e))})}var Lt=function(e){var t=e.isOpened,n=e.closeDialog,a=e.DialogContent,r=e.title,c=e.maxWidth,i=void 0===c?"sm":c,o=e.fullWidth,s=void 0!==o&&o,u=Wt();return Object(F.jsxs)(Dt.a,{fullWidth:s,maxWidth:i,open:t,onClose:function(){return n()},PaperComponent:Rt,"aria-labelledby":"draggable-dialog-title",children:[Object(F.jsxs)(Bt.a,{children:[r,Object(F.jsx)(xt.a,{className:u.closeButton,onClick:function(){return n()},children:Object(F.jsx)(Et.a,{})})]}),a]})},Kt=Lt,zt=n(499),Ht=n(500),Ut=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/countries")).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/cities")).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airports/all")).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=Object(M.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(N),{params:{companyName:n.company,airportName:n.airport,cityName:n.city,countryName:n.country,offset:t,limit:5}}).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airports/count"),{params:{companyName:t.company,airportName:t.airport,cityName:t.city,countryName:t.country}}).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.post("".concat(N),{name:t.name,cityId:t.cityId,companyId:t.companyId},be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.put("".concat(N,"/").concat(t.id),{name:t.name,cityId:t.cityId,companyId:t.companyId},be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(e){var t=e.company,n=e.closeDialog,r=Object(o.b)(),c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],l=i[1],j=Object(a.useState)([]),d=Object(s.a)(j,2),b=d[0],f=d[1],O=Object(a.useState)(""),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(null),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(null),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)(!0),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)(!0),B=Object(s.a)(D,2),V=B[0],E=B[1],W=Object(a.useState)(!1),R=Object(s.a)(W,2),L=R[0],K=R[1],z=Object(a.useState)(""),H=Object(s.a)(z,2),U=H[0],J=H[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a,r,c,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:return t=e.sent,n=Object(s.a)(t,2),a=n[0],n[1],a&&l(a),e.next=9,bt();case 9:r=e.sent,c=Object(s.a)(r,2),i=c[0],c[1],i&&f(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var $=function(){var e=Object(M.a)(q.a.mark((function e(){var a,c,i,o,u,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,K(!1),J(""),h?P(!0):(P(!1),a=!1),y?E(!0):(E(!1),a=!1),!a){e.next=13;break}return e.next=8,Yt({name:h,cityId:y.id,companyId:(null===t||void 0===t?void 0:t.id)||k.id});case 8:c=e.sent,i=Object(s.a)(c,2),i[0],(o=i[1])?(K(!0),J(null===(u=o.response)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.message)):(r(se(!0)),r(oe("The airport was registered successfully!")),n());case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(zt.a,{children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Me.a,{fullWidth:!0,label:"Airport name",variant:"outlined",value:h,onChange:function(e){return g(e.target.value)},error:!A,helperText:!A&&"This field is required"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Ft.a,{value:y,onChange:function(e,t){return w(t)},options:u,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},e),{},{label:"City",variant:"outlined",error:!V,helperText:!V&&"This field is required"}))}})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:t?Object(F.jsx)(Me.a,{fullWidth:!0,value:t.name,disabled:!0,label:"Company",variant:"outlined"}):Object(F.jsx)(Ft.a,{value:k,onChange:function(e,t){return C(t)},options:b,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},e),{},{label:"Company",variant:"outlined"}))}})}),L&&Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{color:"error",children:U})})]})}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){g(""),w(null),C(null)},children:"Clear"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:$,children:"Create"})]})]})},Xt=function(e){var t=e.company,n=e.isOpened,a=e.closeDialog;return Object(F.jsx)(Kt,{title:"Airport registration",isOpened:n,closeDialog:a,DialogContent:Object(F.jsx)(Qt,{company:t,closeDialog:a})})},en=Xt,tn=function(e){var t=e.airport,n=e.company,r=e.closeDialog,c=Object(o.b)(),i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],j=u[1],d=Object(a.useState)([]),b=Object(s.a)(d,2),f=b[0],O=b[1],m=Object(a.useState)(t.name),h=Object(s.a)(m,2),g=h[0],x=h[1],v=Object(a.useState)(null===t||void 0===t?void 0:t.city),y=Object(s.a)(v,2),w=y[0],N=y[1],S=Object(a.useState)(null===t||void 0===t?void 0:t.company),k=Object(s.a)(S,2),C=k[0],T=k[1],I=Object(a.useState)(!0),A=Object(s.a)(I,2),P=A[0],D=A[1],B=Object(a.useState)(!0),V=Object(s.a)(B,2),E=V[0],W=V[1],R=Object(a.useState)(!1),L=Object(s.a)(R,2),K=L[0],z=L[1],H=Object(a.useState)(""),U=Object(s.a)(H,2),J=U[0],$=U[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,a,r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:if(t=e.sent,a=Object(s.a)(t,1),(r=a[0])&&j(r),n){e.next=13;break}return e.next=9,bt();case 9:c=e.sent,i=Object(s.a)(c,1),(o=i[0])&&O(o);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var _=function(){var e=Object(M.a)(q.a.mark((function e(){var a,i,o,u,l,j,d,b;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!0,z(!1),$(""),g===(null===t||void 0===t?void 0:t.name)&&(null===w||void 0===w?void 0:w.id)===(null===t||void 0===t||null===(a=t.city)||void 0===a?void 0:a.id)&&(null===C||void 0===C?void 0:C.id)===(null===t||void 0===t||null===(i=t.company)||void 0===i?void 0:i.id)){e.next=16;break}if(g?D(!0):(D(!1),o=!1),w?W(!0):(W(!1),o=!1),!o){e.next=14;break}return e.next=9,Zt({id:t.id,name:g,cityId:w.id,companyId:(null===n||void 0===n?void 0:n.id)||C.id});case 9:u=e.sent,l=Object(s.a)(u,2),l[0],(j=l[1])?(z(!0),$(null===(d=j.response)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.message)):(c(se(!0)),c(oe("The airport was edited successfully!")),r());case 14:e.next=17;break;case 16:r();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(zt.a,{children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Me.a,{fullWidth:!0,label:"Airport name",variant:"outlined",value:g,onChange:function(e){return x(e.target.value)},error:!P,helperText:!P&&"This field is required"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Ft.a,{value:w,onChange:function(e,t){return N(t)},options:l,getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id===w.id},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},e),{},{label:"City",variant:"outlined",error:!E,helperText:!E&&"This field is required"}))}})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:n?Object(F.jsx)(Me.a,{fullWidth:!0,value:n.name,disabled:!0,label:"Company",variant:"outlined"}):Object(F.jsx)(Ft.a,{value:C,onChange:function(e,t){return T(t)},options:f,getOptionLabel:function(e){return e.name},getOptionSelected:function(e){return e.id===C.id},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},e),{},{label:"Company",variant:"outlined"}))}})}),K&&Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{color:"error",children:J})})]})}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){x(t.name),N(null===t||void 0===t?void 0:t.city),T(null===t||void 0===t?void 0:t.company),D(!0),W(!0)},children:"Reset"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:_,children:"Save"})]})]})},nn=function(e){var t=e.airport,n=e.company,a=e.isOpened,r=e.closeDialog;return Object(F.jsx)(Kt,{title:"Edit airport",isOpened:a,closeDialog:r,DialogContent:Object(F.jsx)(tn,{airport:t,company:n,closeDialog:r})})},an=nn,rn=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/users/hints"),{params:{email:t.email,firstName:t.firstName,lastName:t.lastName,limit:6}}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),cn=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/flights/hints"),{params:{departureCity:t.departureCity,arrivalCity:t.arrivalCity,departureTime:null,arrivalTime:null}}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),on=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/companies/hints"),{params:{companyName:t.companyName,countryName:t.countryName}}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airplanes/hints"),{params:{airplaneType:t.airplaneType,companyName:t.companyName,model:t.model}}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),un=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airports/hints"),{params:{companyName:t.companyName,airportName:t.airportName,cityName:t.cityName,countryName:t.countryName}}).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=Object(j.a)((function(e){return{airportsTable:{minHeight:400},airportsFilter:{marginBottom:e.spacing(2)}}})),jn=function(e){var t=e.company,n=ln(),r=null,c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)([]),j=Object(s.a)(l,2),d=j[0],b=j[1],p=Object(a.useState)([]),f=Object(s.a)(p,2),O=f[0],m=f[1],h=Object(a.useState)(0),g=Object(s.a)(h,2),x=g[0],v=g[1],y=Object(a.useState)(0),w=Object(s.a)(y,2),N=w[0],S=w[1],k=Object(a.useState)(""),C=Object(s.a)(k,2),T=C[0],I=C[1],A=Object(a.useState)(""),P=Object(s.a)(A,2),D=P[0],B=P[1],V=Object(a.useState)(""),E=Object(s.a)(V,2),W=E[0],R=E[1],L=Object(a.useState)([]),K=Object(s.a)(L,2),z=K[0],H=K[1],U=Object(a.useState)(0),J=Object(s.a)(U,2),$=J[0],_=J[1],G=Object(a.useState)(!1),Y=Object(s.a)(G,2),Z=Y[0],Q=Y[1],X=Object(a.useState)(null),ee=Object(s.a)(X,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(!1),re=Object(s.a)(ae,2),ce=re[0],ie=re[1],oe=[{field:"name",headerName:"Airport name",width:200},{field:"cityName",headerName:"City",width:200},{field:"country",headerName:"Country",width:200},{field:"actions",headerName:"Actions",width:200,renderCell:function(e){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(gt.a,{title:"Edit",children:Object(F.jsx)(xt.a,{color:"primary",onClick:function(){return je(e.row)},children:Object(F.jsx)(yt.a,{})})})})}}],se=z.map((function(e){return{id:e.id,name:e.name,cityName:e.city.name,country:e.city.country.name,city:e.city,company:e.company}})),ue=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,c,i,o,u;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.name)){e.next=17;break}return n={company:t.name,airport:T,city:D,country:W},e.next=4,_t(x,n);case 4:return a=e.sent,r=Object(s.a)(a,2),c=r[0],r[1],c&&H(c),e.next=12,Gt(n);case 12:i=e.sent,o=Object(s.a)(i,2),u=o[0],o[1]||_(u);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un({companyName:null===t||void 0===t?void 0:t.name,airportName:T,cityName:D,countryName:W});case 2:n=e.sent,a=n.map((function(e){return e.airportName})),r=n.map((function(e){return e.cityName})),c=n.map((function(e){return e.countryName})),u(Object(ht.a)(new Set(a))),b(Object(ht.a)(new Set(r))),m(Object(ht.a)(new Set(c)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ue()}),[t,N,x,T,D,W,Z,ce]);var je=function(e){ne(e),ie(!0)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:n.airportsFilter,children:Object(F.jsx)(Pt,{fields:["Airport name","City","Country"],fieldsOptions:[o,d,O],onFilterConfirmed:function(e){clearTimeout(r),e[0]||e[1]||e[2]||(u([]),b([]),m([])),(e[0]||e[1]||e[2])&&(r=setTimeout((function(){return le()}),500))},onSearchClick:function(e){I(e[0]),B(e[1]),R(e[2]),S(0),v(0)}})}),Object(F.jsx)(en,{company:t,isOpened:Z,closeDialog:function(){return Q(!1)}}),Object(F.jsx)(an,{airport:te,company:t,isOpened:ce,closeDialog:function(){return ie(!1)}}),Object(F.jsx)(It,{page:N,rows:se,columns:oe,onPageChange:function(e){S(e),v(5*e)},rowCount:$,onAddClick:function(){return Q(!0)}})]})},dn=n(243),bn=n.n(dn),pn=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(I,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fn=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.put("".concat(I),t,be(n.jwtToken)).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),On=function(e){var t=e.prices,n=e.handleCellEdit;return Object(F.jsx)("div",{style:{height:400,width:"100%"},children:Object(F.jsx)(Ye.a,{rows:t,columns:[{field:"placeType",headerName:"Place type",flex:1},{field:"ticketPrice",headerName:"Price",flex:1,type:"number",editable:!0,valueFormatter:function(e){return"".concat(e.value," $")}}],pageSize:5,disableColumnMenu:!0,onEditCellChange:function(e){return n(e)}})})},mn=On,hn=Object(j.a)((function(e){return{pricesDialogContent:{minWidth:400},errorMessage:{padding:e.spacing(1)}}})),gn=function(e){var t=e.airplane,n=e.closeDialog,r=hn(),c=Object(o.b)(),i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],j=u[1],d=Object(a.useState)([]),b=Object(s.a)(d,2),f=b[0],O=b[1],m=Object(a.useState)(!0),h=Object(s.a)(m,2),g=h[0],x=h[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(null===t||void 0===t?void 0:t.id);case 2:n=e.sent,j(n.map((function(e){return Object(we.a)({},e)}))),O(n.map((function(e){return Object(we.a)({},e)})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t.id]);var v=function(){var e=Object(M.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,g||x(!0),f.forEach((function(e){e.ticketPrice<=0&&(t=!1,x(!1))})),!t){e.next=10;break}return a=f.map((function(e){return{id:e.id,airplaneId:e.airplaneId,placeTypeId:e.placeTypeId,ticketPrice:parseInt(e.ticketPrice,10)}})),e.next=7,fn(a);case 7:c(se(!0)),c(oe("The prices were edited successfully!")),n();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(zt.a,{className:r.pricesDialogContent,children:[Object(F.jsx)(mn,{prices:f,handleCellEdit:function(e){for(var t=f.map((function(e){return Object(we.a)({},e)})),n=0;n<t.length;n++)if(t[n].id===e.id){t[n].ticketPrice=parseInt(e.props.value);break}O(t.map((function(e){return Object(we.a)({},e)})))}}),!g&&Object(F.jsx)(p.a,{variant:"h6",color:"error",className:r.errorMessage,children:"Prices can be only positive numbers"})]}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){return O(l.map((function(e){return Object(we.a)({},e)})))},children:"Reset"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:v,children:"Save"})]})]})},xn=function(e){var t=e.airplane,n=e.isOpened,a=e.closeDialog;return Object(F.jsx)(Kt,{title:"Places price",isOpened:n,closeDialog:a,DialogContent:Object(F.jsx)(gn,{airplane:t,closeDialog:a})})},vn=xn,yn=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airplaneTypes")).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wn=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(w),{params:{offset:t,limit:5,airplaneType:n,companyName:a,model:r}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r,c,i,o){var s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=je.getState().token,e.next=3,pe.post("".concat(w),{airplaneTypeId:t,companyId:n,model:a,registrationNumber:parseInt(r,10),rows:parseInt(c,10),columns:parseInt(i,10),baggageCapacityInKilograms:parseFloat(o,10)},be(s.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i,o){return e.apply(this,arguments)}}(),Sn=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.delete("".concat(w,"/").concat(t),be(n.jwtToken)).then((function(e){return[e,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kn=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airplanes/free")).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cn=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/airplanes/count"),{params:{airplaneType:t,company:n,model:a}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Tn=Object(j.a)((function(e){return{airplanesTable:{minHeight:400},airplanesFilter:{marginBottom:e.spacing(2)}}})),In=function(e){var t=e.companyName,n=Tn(),r=Object(l.g)(),c=null,i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],j=o[1],d=Object(a.useState)([]),b=Object(s.a)(d,2),p=b[0],f=b[1],O=Object(a.useState)(0),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(0),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(""),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)(""),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)([]),B=Object(s.a)(D,2),V=B[0],E=B[1],W=Object(a.useState)(0),R=Object(s.a)(W,2),L=R[0],K=R[1],z=Object(a.useState)(null),H=Object(s.a)(z,2),U=H[0],J=H[1],$=Object(a.useState)(!1),_=Object(s.a)($,2),G=_[0],Y=_[1],Z=[{field:"type",headerName:"Type",width:200},{field:"model",headerName:"Model",width:200},{field:"registrationNumber",headerName:"Registration number",width:200},{field:"baggageCapacity",headerName:"Baggage capacity",width:200,type:"number",valueFormatter:function(e){return"".concat(e.value," Kg")}},{field:"actions",headerName:"Actions",width:200,renderCell:function(e){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(gt.a,{title:"Places price",children:Object(F.jsx)(xt.a,{color:"primary",onClick:function(){return te(e.row)},children:Object(F.jsx)(bn.a,{})})})})}}],Q=V.map((function(e){return{id:e.id,type:e.airplaneType.typeName,model:e.model,registrationNumber:e.registrationNumber,baggageCapacity:e.baggageCapacityInKilograms}})),X=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n={company:t,airplaneType:A,model:k},e.next=4,wn(y,n.airplaneType,n.company,n.model);case 4:return(a=e.sent)&&E(a),e.next=8,Cn(n.airplaneType,n.company,n.model);case 8:(r=e.sent)&&K(r);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn({airplaneType:A,companyName:t,model:k});case 2:n=e.sent,a=n.map((function(e){return e.airplaneType})),r=n.map((function(e){return e.model})),j(Object(ht.a)(new Set(a))),f(Object(ht.a)(new Set(r)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){X()}),[t,y,h,A,k]);var te=function(e){J(e),Y(!0)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("div",{className:n.airplanesFilter,children:Object(F.jsx)(Pt,{fields:["Airplane type","Model"],fieldsOptions:[u,p],onFilterConfirmed:function(e){clearTimeout(c),e[0]||e[1]||(j([]),f([])),(e[0]||e[1])&&(c=setTimeout((function(){return ee()}),500))},onSearchClick:function(e){P(e[0]),C(e[1]),g(0),w(0)}})}),Object(F.jsx)(vn,{airplane:U,isOpened:G,closeDialog:function(){return Y(!1)}}),Object(F.jsx)(It,{page:h,rows:Q,columns:Z,onPageChange:function(e){g(e),w(5*e)},rowCount:L,onAddClick:function(){r.push("/admin/airplanes/creation")}})]})},Fn=["children","value","index"],An=Object(j.a)((function(e){return{companyInfo:{marginBottom:e.spacing(3)},largeAvatar:{width:e.spacing(20),height:e.spacing(20)},userEmail:{alignSelf:"flex-end"},userName:{alignSelf:"flex-start"},userNameText:{fontSize:"large"}}})),Pn=function(e){var t=e.children,n=e.value,a=e.index,r=Object(it.a)(e,Fn);return Object(F.jsx)("div",Object(we.a)(Object(we.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(F.jsx)(ut.a,{p:3,children:t})}))},Dn=function(){var e=An(),t=Object(o.c)((function(e){return e.token})),n=Object(a.useState)(null),r=Object(s.a)(n,2),c=r[0],i=r[1],u=Object(a.useState)(0),l=Object(s.a)(u,2),j=l[0],d=l[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=he(t.jwtToken),e.next=3,pt(n);case 3:a=e.sent,r=Object(s.a)(a,2),c=r[0],r[1],c&&i(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(p.a,{gutterBottom:!0,variant:"h2",children:"My company"}),Object(F.jsx)("div",{className:e.companyInfo,children:Object(F.jsxs)(We.a,{container:!0,justify:"center",spacing:2,children:[Object(F.jsx)(We.a,{item:!0,lg:2,children:Object(F.jsx)(Ge.a,{alt:"test",className:e.largeAvatar})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(p.a,{variant:"h3",children:null===c||void 0===c?void 0:c.name})})]})}),Object(F.jsxs)(ke.a,{elevation:4,children:[Object(F.jsx)(ke.a,{variant:"outlined",children:Object(F.jsxs)(ot.a,{centered:!0,value:j,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){d(t)},"aria-label":"disabled tabs example",children:[Object(F.jsx)(st.a,{label:"Airports"}),Object(F.jsx)(st.a,{label:"Airplanes"})]})}),Object(F.jsx)(Pn,{value:j,index:0,children:Object(F.jsx)(jn,{company:c})}),Object(F.jsx)(Pn,{value:j,index:1,children:Object(F.jsx)(In,{companyName:null===c||void 0===c?void 0:c.name})})]})]})},Bn=Dn,Vn=n(513),En=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(S),{params:{offset:t,limit:n,departureCity:a,arrivalCity:r}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),qn=function(){var e=Object(M.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/flights/count"),{params:{departureCity:t,arrivalCity:n}}).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat(S,"/").concat(t)).then((function(e){return e.data})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wn=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r,c,i,o,s){var u;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=je.getState().token,e.next=3,pe.post("".concat(S),{airplaneId:t,flightNumber:n,fromId:a,toId:r,departureTime:"".concat(c.toJSON()),arrivalTime:"".concat(i.toJSON()),freeBaggageLimitInKilograms:parseFloat(o),overweightPrice:parseFloat(s)},be(u.jwtToken)).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i,o,s){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(M.a)(q.a.mark((function e(t,n,a,r,c,i,o){var s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=je.getState().token,e.next=3,pe.put("".concat(S,"/").concat(t),{airplaneId:n,flightNumber:a,fromId:r,toId:c,departureTime:"".concat(i.toJSON()),arrivalTime:"".concat(o.toJSON())},be(s.jwtToken)).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i,o){return e.apply(this,arguments)}}(),Ln=n(502),Kn=n(152),zn=n.n(Kn),Hn=Object(j.a)((function(e){return{companyName:{alignSelf:"center"},airplaneIcon:{alignSelf:"center",transform:"rotate(90deg)"},airplaneInfo:{flexGrow:1}}})),Un=function(e){var t=e.flight,n=t.airplane,a=t.from,r=t.to,c=t.arrivalTime,i=t.departureTime,o=Hn();return Object(F.jsxs)(We.a,{item:!0,container:!0,spacing:3,children:[Object(F.jsx)(We.a,{item:!0,className:o.companyName,children:Object(F.jsx)(p.a,{variant:"h3",align:"center",children:n.company.name})}),Object(F.jsx)(We.a,{item:!0,className:o.airplaneInfo,children:Object(F.jsxs)(We.a,{item:!0,container:!0,direction:"column",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"subtitle1",align:"center",children:n.model})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(p.a,{variant:"body2",align:"center",children:["(",n.airplaneType.typeName,")"]})})]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(We.a,{item:!0,container:!0,direction:"column",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"subtitle1",align:"center",children:i.split("T")[1]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"body2",align:"center",children:i.split("T")[0]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"subtitle1",align:"center",children:a.city.name})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(p.a,{variant:"subtitle1",align:"center",children:['"',a.name,'"']})})]})})]})}),Object(F.jsx)(We.a,{item:!0,className:o.airplaneIcon,children:Object(F.jsx)(zn.a,{})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(We.a,{item:!0,container:!0,direction:"column",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"subtitle1",align:"center",children:c.split("T")[1]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"body2",align:"center",children:c.split("T")[0]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(We.a,{container:!0,spacing:1,children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"subtitle1",align:"center",children:r.city.name})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(p.a,{variant:"subtitle1",align:"center",children:['"',r.name,'"']})})]})})]})})]})},Jn=Object(j.a)((function(e){return{flightInfo:{width:"800px",margin:"auto",padding:"24px"},companyName:{alignSelf:"center"},airplaneIcon:{alignSelf:"center",transform:"rotate(90deg)"},bookButton:{marginLeft:"auto"},dividedLine:{margin:"0"},airplaneInfo:{flexGrow:1}}})),$n=function(e){var t=e.flight,n=Jn(),a=Object(l.g)();return Object(F.jsx)(We.a,{item:!0,container:!0,children:Object(F.jsx)(Ln.a,{className:n.flightInfo,variant:"outlined",children:Object(F.jsxs)(We.a,{container:!0,direction:"column",spacing:2,children:[Object(F.jsx)("hr",{className:n.dividedLine}),Object(F.jsx)(Un,{flight:t}),Object(F.jsx)("hr",{className:n.dividedLine}),Object(F.jsx)(We.a,{item:!0,container:!0,children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",className:n.bookButton,onClick:function(){a.push({pathname:"/reservation",state:{flight:t}})},children:"Book"})})]})})})},_n=Object(j.a)((function(e){return{flightList:{padding:"24px"},pagination:{margin:"auto"}}})),Gn=function(){var e=null,t=_n(),n=Object(a.useState)(0),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(1),u=Object(s.a)(o,2),l=u[0],j=u[1],d=Object(a.useState)(1),b=Object(s.a)(d,2),p=b[0],f=b[1],O=Object(a.useState)([]),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(""),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(""),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)([]),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)([]),B=Object(s.a)(D,2),V=B[0],E=B[1],W=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(c,4,y,k);case 2:return t=e.sent,e.next=5,qn(y,k);case 5:n=e.sent,t&&g(t),j(Math.ceil(n/4));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn({departureCity:y,arrivalCity:k});case 2:t=e.sent,n=t.map((function(e){return e.departureCity})),a=t.map((function(e){return e.arrivalCity})),P(Object(ht.a)(new Set(n))),E(Object(ht.a)(new Set(a)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){W()}),[p,c,y,k]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Pt,{fields:["Departure city","Arrival city"],fieldsOptions:[A,V],onFilterConfirmed:function(t){clearTimeout(e),t[0]||t[1]||(P([]),E([])),(t[0]||t[1])&&(e=setTimeout((function(){return R()}),500))},onSearchClick:function(e){w(e[0]),C(e[1]),f(1),i(0)}}),h.length?Object(F.jsx)("div",{className:t.flightList,children:Object(F.jsxs)(We.a,{container:!0,spacing:3,children:[h.map((function(e){return Object(F.jsx)($n,{flight:e,id:e.id},e.id)})),Object(F.jsx)(We.a,{item:!0,container:!0,lg:12,children:Object(F.jsx)(Vn.a,{count:l,shape:"rounded",className:t.pagination,page:p,onChange:function(e,t){i(4*(t-1)),f(t)}})})]})}):Object(F.jsx)("div",{children:Object(F.jsx)("h1",{children:"No flights"})})]})},Yn=function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Gn,{})})},Zn=n(119),Qn=n(89),Xn=["label"],ea=function(e){var t=e.label,n=Object(it.a)(e,Xn),a=Object(Zn.c)(n),r=Object(s.a)(a,2),c=r[0],i=r[1];return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)(Object(we.a)({},c),n),{},{label:t,variant:"outlined",error:i.touched&&null!=i.error,helperText:i.touched&&i.error?i.error:null}))},ta=function(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1],u=Object(o.b)(),l=function(){var e=Object(M.a)(q.a.mark((function e(n){var a,r,c,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(n);case 2:a=e.sent,r=Object(s.a)(a,2),c=r[0],(o=r[1])&&i(o.response.data.message),c&&(u(se(!0)),u(oe("The user was registered successfully!")),t());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(Zn.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",passwordConfirm:""},validationSchema:Qn.a({firstName:Qn.c().max(15,"Must be 15 characters or less").required("Required"),lastName:Qn.c().max(20,"Must be 20 characters or less").required("Required"),email:Qn.c().email("Invalid email address").required("Required"),password:Qn.c().min(6,"At least 6 characters").matches(/(?=.*[0-9])(?=.*[a-zA-Z])/,"Only Latin letters and digits").required("Required"),passwordConfirm:Qn.c().oneOf([Qn.b("password"),null],"Passwords must match").required("Required")}),onSubmit:function(e){l(e)},children:function(e){var t=e.handleSubmit,n=e.handleReset;return Object(F.jsx)(Zn.a,{children:Object(F.jsxs)(We.a,{container:!0,spacing:2,justify:"flex-end",children:[Object(F.jsx)(We.a,{item:!0,xs:12,lg:6,children:Object(F.jsx)(ea,{required:!0,fullWidth:!0,label:"First name",name:"firstName",type:"text"})}),Object(F.jsx)(We.a,{item:!0,xs:12,lg:6,children:Object(F.jsx)(ea,{required:!0,fullWidth:!0,label:"Last name",name:"lastName",type:"text"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(ea,{required:!0,fullWidth:!0,label:"Email",name:"email",type:"email"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(ea,{required:!0,fullWidth:!0,label:"Password",name:"password",type:"password"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(ea,{required:!0,fullWidth:!0,label:"Repeat password",name:"passwordConfirm",type:"password"})}),c&&Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(p.a,{color:"error",variant:"h6",children:c})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(ye.a,{type:"reset",variant:"outlined",onClick:function(){i(""),n()},children:"Clear"})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(ye.a,{type:"submit",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t()},children:"Register"})})]})})}})},na=Object(j.a)((function(e){return{dialogContent:{padding:e.spacing(3)}}})),aa=function(e){var t=e.closeDialog,n=na(),a=function(){var e=Object(M.a)(q.a.mark((function e(n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(zt.a,{className:n.dialogContent,children:Object(F.jsx)(ta,{onSubmit:a})})},ra=function(e){var t=e.isOpened,n=e.closeDialog;return Object(F.jsx)(Kt,{title:"User registration",isOpened:t,closeDialog:n,DialogContent:Object(F.jsx)(aa,{closeDialog:n})})},ca=Object(j.a)((function(e){return{usersGrid:{height:"500px",width:"100%"},tableHeader:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),ia=function(){var e=null,t=ca(),n=Object(o.c)((function(e){return e.token})),r=Object(a.useState)([]),c=Object(s.a)(r,2),i=c[0],u=c[1],l=Object(a.useState)(0),j=Object(s.a)(l,2),d=j[0],b=j[1],f=Object(a.useState)([]),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)([]),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)([]),N=Object(s.a)(w,2),S=N[0],k=N[1],C=Object(a.useState)(0),T=Object(s.a)(C,2),I=T[0],A=T[1],P=Object(a.useState)(0),D=Object(s.a)(P,2),B=D[0],V=D[1],E=Object(a.useState)(""),W=Object(s.a)(E,2),R=W[0],L=W[1],K=Object(a.useState)(""),z=Object(s.a)(K,2),H=z[0],U=z[1],J=Object(a.useState)(""),$=Object(s.a)(J,2),_=$[0],G=$[1],Y=Object(a.useState)(!1),Z=Object(s.a)(Y,2),Q=Z[0],X=Z[1],ee=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(B,R,H,_);case 2:return t=e.sent,e.next=5,at(R,H,_);case 5:n=e.sent,u(t),b(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rn({email:R,firstName:H,lastName:_});case 2:t=e.sent,n=t.map((function(e){return e.email})),a=t.map((function(e){return e.firstName})),r=t.map((function(e){return e.lastName})),h(Object(ht.a)(new Set(n))),y(Object(ht.a)(new Set(a))),k(Object(ht.a)(new Set(r)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ee()}),[n,B,R,H,_,Q]);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ra,{isOpened:Q,closeDialog:function(){X(!1)}}),Object(F.jsxs)("div",{className:t.tableHeader,children:[Object(F.jsx)(p.a,{variant:"h3",children:"Users"}),Object(F.jsx)(Pt,{fields:["Email","First name","Last name"],fieldsOptions:[m,v,S],onFilterConfirmed:function(t){clearTimeout(e),t[0]||t[1]||t[2]||(h([]),y([]),k([])),(t[0]||t[1]||t[2])&&(e=setTimeout((function(){return te()}),500))},onSearchClick:function(e){L(e[0]),U(e[1]),G(e[2]),A(0),V(0)}})]}),Object(F.jsx)(It,{page:I,rows:i,columns:[{field:"id",headerName:"ID",width:100},{field:"email",headerName:"Email",width:150},{field:"firstName",headerName:"First name",width:150},{field:"lastName",headerName:"Last name",width:150},{field:"roleName",headerName:"Role",width:150},{field:"phoneNumber",headerName:"Phone number",width:200}],onPageChange:function(e){A(e),V(5*e)},rowCount:d,onAddClick:function(){X(!0)}})]})},oa=n(157),sa=n.n(oa),ua=n(251),la=n.n(ua),ja=n(156),da=n.n(ja),ba=n(503),pa=function(e){var t=e.isOpened,n=e.handleConfirmation,a=e.handleRejection;return Object(F.jsx)("div",{children:Object(F.jsxs)(Dt.a,{open:t,onClose:a,children:[Object(F.jsx)(Bt.a,{children:"Do you really want to delete this?"}),Object(F.jsx)(zt.a,{children:Object(F.jsx)(ba.a,{children:"If you delete it now you will not have an oportunity to restore this data anymore"})}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{onClick:a,color:"primary",children:"Disagree"}),Object(F.jsx)(ye.a,{onClick:n,color:"primary",autoFocus:!0,children:"Agree"})]})]})})},fa=Object(j.a)((function(e){return{countryNameField:{marginBottom:e.spacing(2),minWidth:300}}})),Oa=function(e){var t=e.company,n=e.company,r=n.name,c=n.country,i=e.closeDialog,u=fa(),l=Object(o.b)(),j=Object(a.useState)([]),d=Object(s.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(r),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(c),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)(!0),N=Object(s.a)(w,2),S=N[0],k=N[1],C=Object(a.useState)(!0),T=Object(s.a)(C,2),I=T[0],A=T[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut();case 2:t=e.sent,n=Object(s.a)(t,2),a=n[0],n[1],a&&p(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var P=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,m?k(!0):(k(!1),n=!1),v?A(!0):(A(!1),n=!1),!n){e.next=12;break}return a={id:t.id,name:m,countryId:v.id},e.next=7,Ot(a);case 7:r=e.sent,c=Object(s.a)(r,2),c[0],c[1]||(l(se(!0)),l(oe("The company was edited successfully!")),i());case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(zt.a,{children:[Object(F.jsx)(Me.a,{className:u.countryNameField,value:m,onChange:function(e){return t=e.target.value,void h(t);var t},label:"Company name",variant:"outlined",error:!S,helperText:!S&&"This field is required"}),Object(F.jsx)(Ft.a,{value:v,onChange:function(e,t){return y(t)},getOptionSelected:function(e){return e.id===v.id},options:b,getOptionLabel:function(e){return e.name},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({error:!I,helperText:!I&&"This field is required"},e),{},{label:"Country",variant:"outlined"}))}})]}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){h(r),y(c),k(!0),A(!0)},children:"Reset"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:P,children:"Save"})]})]})},ma=Object(j.a)((function(e){return{inputField:{width:"100%"}}})),ha=function(e){var t=e.closeDialog,n=ma(),r=Object(o.b)(),c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],l=i[1],j=Object(a.useState)(""),d=Object(s.a)(j,2),b=d[0],f=d[1],O=Object(a.useState)(null),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(!0),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(!0),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)(!1),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)(""),B=Object(s.a)(D,2),V=B[0],E=B[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut();case 2:t=e.sent,n=Object(s.a)(t,2),a=n[0],n[1],a&&l(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),E(""),n=!0,b?w(!0):(n=!1,w(!1)),h&&h.id?C(!0):(n=!1,C(!1)),!n){e.next=14;break}return e.next=8,ft({name:b,countryId:h.id});case 8:a=e.sent,c=Object(s.a)(a,2),i=c[0],o=c[1],i&&(r(se(!0)),r(oe("The company was created successfully!")),t()),o&&(P(!0),E(o.response.data.message));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(zt.a,{children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Me.a,{error:!y,helperText:!y&&"This field is required",className:n.inputField,value:b,onChange:function(e){return f(e.target.value)},required:!0,variant:"outlined",label:"Company name"})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Ft.a,{options:u,getOptionLabel:function(e){return e.name},value:h,onChange:function(e,t){return g(t)},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({error:!k,helperText:!k&&"This field is required",required:!0},e),{},{label:"Country",variant:"outlined"}))}})}),Object(F.jsx)(We.a,{item:!0,children:A&&Object(F.jsx)(p.a,{variant:"body1",color:"error",children:V})})]})}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{onClick:function(){return f(""),void g(null)},children:"Clear"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){return W()},children:"Create"})]})]})},ga=n(249),xa=n.n(ga),va=n(160),ya=Object(j.a)((function(e){return{gridItem:{display:"flex",alignItems:"center",justifyContent:"center"},deleteButton:{color:va.a[500]}}})),wa=function(e){var t=e.manager,n=e.handleDeleteManager,a=ya();return Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(ke.a,{variant:"outlined",children:Object(F.jsxs)(We.a,{container:!0,children:[Object(F.jsx)(We.a,{item:!0,xs:3,className:a.gridItem,children:Object(F.jsx)(p.a,{variant:"body1",children:null===t||void 0===t?void 0:t.email})}),Object(F.jsx)(We.a,{item:!0,xs:5,className:a.gridItem,children:Object(F.jsxs)(p.a,{variant:"body1",children:[null===t||void 0===t?void 0:t.firstName," ",null===t||void 0===t?void 0:t.lastName]})}),Object(F.jsx)(We.a,{item:!0,xs:3,className:a.gridItem,children:Object(F.jsx)(p.a,{variant:"body1",noWrap:!0,children:null===t||void 0===t?void 0:t.phoneNumber})}),Object(F.jsx)(We.a,{item:!0,xs:1,className:a.gridItem,children:Object(F.jsx)(xt.a,{className:a.deleteButton,onClick:function(){n(t)},children:Object(F.jsx)(xa.a,{})})})]})})})},Na=Object(j.a)((function(e){return{managersListPaper:{padding:e.spacing(2)}}})),Sa=function(e){var t=e.managers,n=e.handleDeleteManager,a=Na();return Object(F.jsx)(ke.a,{variant:"outlined",className:a.managersListPaper,children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[0===t.length&&Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{children:"No managers"})}),null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsx)(wa,{manager:e,handleDeleteManager:n},e.id)}))]})})},ka=n(250),Ca=n.n(ka),Ta=Object(j.a)((function(e){return{managerAdding:{padding:e.spacing(2)}}})),Ia=function(e){var t=e.freeUsers,n=e.handleAddManager,r=Ta(),c=Object(a.useState)(null),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(!0),j=Object(s.a)(l,2),d=j[0],b=j[1];return Object(F.jsx)("div",{className:r.managerAdding,children:Object(F.jsxs)(We.a,{container:!0,spacing:2,justify:"center",alignItems:"center",children:[Object(F.jsx)(We.a,{item:!0,xs:6,children:Object(F.jsx)(Ft.a,{options:t,value:o,onChange:function(e,t){u(t)},getOptionLabel:function(e){return e.email},renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({error:!d},e),{},{label:"Combo box",variant:"outlined"}))}})}),Object(F.jsx)(We.a,{item:!0,xs:3,children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){var e=!0;d||b(!0),o||(e=!1,b(!1)),e&&(u(null),n(o))},startIcon:Object(F.jsx)(Ca.a,{}),children:"Add new manager"})})]})})},Fa=function(e){var t=e.companyId,n=Object(o.b)(),r=Object(a.useState)([]),c=Object(s.a)(r,2),i=c[0],u=c[1],l=Object(a.useState)([]),j=Object(s.a)(l,2),d=j[0],b=j[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,c,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:return n=e.sent,a=Object(s.a)(n,2),r=a[0],a[1],e.next=8,et(t);case 8:c=e.sent,i=Object(s.a)(c,2),o=i[0],i[1],r&&b(r),o&&u(o);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var p=function(){var e=Object(M.a)(q.a.mark((function e(a){var r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(a.id,t);case 2:r=e.sent,c=Object(s.a)(r,2),c[0],c[1]||(n(se(!0)),n(oe("The admin was assigned successfully!")),b((function(){var e=[];return d.forEach((function(t){t.id!==a.id&&e.push(t)})),e})),u([].concat(Object(ht.a)(i),[a])));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(M.a)(q.a.mark((function e(t){var a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t.id,"");case 2:a=e.sent,r=Object(s.a)(a,2),r[0],r[1]||(n(se(!0)),n(oe("The admin was unassigned successfully!")),b([].concat(Object(ht.a)(d),[t])),u((function(){var e=[];return i.forEach((function(n){n.id!==t.id&&e.push(n)})),e})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(F.Fragment,{children:Object(F.jsxs)(zt.a,{children:[Object(F.jsx)(Sa,{managers:i,handleDeleteManager:f}),Object(F.jsx)(Ia,{freeUsers:d,handleAddManager:p})]})})},Aa=Object(j.a)((function(e){return{companiesGrid:{height:"500px",width:"100%"},tableHeader:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)},deleteButton:{color:da.a[500]}}})),Pa=function(){var e=Aa(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.token})),r=null,c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],l=i[1],j=Object(a.useState)([]),d=Object(s.a)(j,2),b=d[0],f=d[1],O=Object(a.useState)([]),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(0),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(0),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)(0),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)(""),B=Object(s.a)(D,2),V=B[0],E=B[1],W=Object(a.useState)(""),R=Object(s.a)(W,2),L=R[0],K=R[1],z=Object(a.useState)(!1),H=Object(s.a)(z,2),U=H[0],J=H[1],$=Object(a.useState)(!1),_=Object(s.a)($,2),G=_[0],Y=_[1],Z=Object(a.useState)(!1),Q=Object(s.a)(Z,2),X=Q[0],ee=Q[1],te=Object(a.useState)(!1),ne=Object(s.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(""),ie=Object(s.a)(ce,2),ue=ie[0],le=ie[1],je=Object(a.useState)(null),de=Object(s.a)(je,2),be=de[0],pe=de[1],fe=[{field:"id",headerName:"ID",width:300},{field:"name",headerName:"Company name",width:200},{field:"countryName",headerName:"Country name",width:200},{field:"actions",headerName:"Actions",width:250,renderCell:function(t){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(gt.a,{title:"Edit",children:Object(F.jsx)(xt.a,{color:"primary",onClick:function(){return ve(t.row)},children:Object(F.jsx)(yt.a,{})})}),Object(F.jsx)(gt.a,{title:"Show managers",children:Object(F.jsx)(xt.a,{color:"primary",onClick:function(){return xe(t.id)},children:Object(F.jsx)(la.a,{})})}),Object(F.jsx)(gt.a,{title:"Delete",children:Object(F.jsx)(xt.a,{className:e.deleteButton,onClick:function(){return ye(t.id)},children:Object(F.jsx)(sa.a,{})})})]})}}],Oe=h.map((function(e){return{id:e.id,name:e.name,countryName:e.country.name,country:e.country}})),me=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt(A,V,L);case 2:return t=e.sent,e.next=5,dt(V,L);case 5:n=e.sent,g(t),w(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on({companyName:V,countryName:L});case 2:t=e.sent,n=t.map((function(e){return e.companyName})),a=t.map((function(e){return e.countryName})),l(Object(ht.a)(new Set(n))),f(Object(ht.a)(new Set(a)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){me()}),[n,A,V,L,G,U,ae]);var ge=function(){J(!1)},xe=function(e){le(e),ee(!0)},ve=function(e){pe(e),Y(!0)},ye=function(e){le(e),re(!0)},we=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(ue);case 2:n=e.sent,a=Object(s.a)(n,2),a[0],a[1]||(t(se(!0)),t(oe("The company was deleted successfully!")),re(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(pa,{isOpened:ae,handleConfirmation:we,handleRejection:function(){re(!1)}}),Object(F.jsx)(Kt,{title:"Edit company",isOpened:G,closeDialog:function(){return Y(!1)},DialogContent:Object(F.jsx)(Oa,{company:be,closeDialog:function(){return Y(!1)}})}),Object(F.jsx)(Kt,{fullWidth:!0,maxWidth:"md",title:"Managers",isOpened:X,closeDialog:function(){return ee(!1)},DialogContent:Object(F.jsx)(Fa,{companyId:ue})}),Object(F.jsx)(Kt,{title:"Company registration",isOpened:U,closeDialog:ge,DialogContent:Object(F.jsx)(ha,{closeDialog:ge})}),Object(F.jsxs)("div",{className:e.tableHeader,children:[Object(F.jsx)(p.a,{variant:"h3",children:"Companies"}),Object(F.jsx)(Pt,{fields:["Company name","Country"],fieldsOptions:[u,b],onFilterConfirmed:function(e){clearTimeout(r),e[0]||e[1]||(l([]),f([])),(e[0]||e[1])&&(r=setTimeout((function(){return he()}),500))},onSearchClick:function(e){E(e[0]),K(e[1]),C(0),P(0)}})]}),Object(F.jsx)(It,{page:k,rows:Oe,columns:fe,onPageChange:function(e){C(e),P(5*e)},rowCount:y,onAddClick:function(){J(!0)}})]})},Da=n(253),Ba=n.n(Da),Va=n(444),Ea=n(505),qa=n(508),Ma=n(495),Wa=n(504),Ra=n(506),La=n(507),Ka=Object(j.a)({table:{}}),za=function(e){var t=e.prices,n=Ka();return Object(F.jsx)(Wa.a,{component:ke.a,children:Object(F.jsxs)(Ea.a,{className:n.table,size:"small","aria-label":"price table",children:[Object(F.jsx)(Ra.a,{children:Object(F.jsxs)(La.a,{children:[Object(F.jsx)(Ma.a,{children:"Place type"}),Object(F.jsx)(Ma.a,{align:"right",children:"Ticket price"})]})}),Object(F.jsx)(qa.a,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(F.jsxs)(La.a,{children:[Object(F.jsx)(Ma.a,{component:"th",scope:"row",children:e.placeType}),Object(F.jsx)(Ma.a,{align:"right",children:e.ticketPrice})]},e.id)}))})]})})},Ha=Object(j.a)((function(e){return{infoDialog:{padding:e.spacing(3),paddingTop:0},infoPaper:{padding:e.spacing(2)},airplaneIcon:{alignSelf:"center",transform:"rotate(90deg)"},loading:{margin:e.spacing(5)}}})),Ua=function(e){var t=e.flightId,n=Ha(),r=Object(o.c)((function(e){return e.token})),c=Object(a.useState)(),i=Object(s.a)(c,2),u=i[0],l=i[1];return Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mn(t);case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r,t]),Object(F.jsx)(zt.a,{className:n.infoDialog,children:Object(F.jsx)(ke.a,{variant:"outlined",className:n.infoPaper,children:u?Object(F.jsxs)(We.a,{container:!0,spacing:1,children:[Object(F.jsx)(We.a,{item:!0,lg:12,className:n.flightTitle,children:Object(F.jsxs)(p.a,{component:"h1",variant:"h3",align:"center",children:["Flight: ",null===u||void 0===u?void 0:u.flightNumber]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{component:"h1",variant:"h5",align:"center",children:["Airplane (",null===u||void 0===u?void 0:u.airplane.model,")"]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{variant:"overline",display:"block",align:"center",children:["Registration number: ",null===u||void 0===u?void 0:u.airplane.registrationNumber]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{variant:"overline",display:"block",align:"center",children:["Airplane type: ",null===u||void 0===u?void 0:u.airplane.airplaneType.typeName]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{variant:"overline",display:"block",align:"center",children:["Company: ",null===u||void 0===u?void 0:u.airplane.company.name]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(za,{prices:null===u||void 0===u?void 0:u.airplane.prices})}),Object(F.jsxs)(We.a,{item:!0,container:!0,direction:"column",lg:5,justify:"center",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(p.a,{variant:"overline",display:"block",align:"center",children:[null===u||void 0===u?void 0:u.from.name," (",null===u||void 0===u?void 0:u.from.city.name,")"]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"overline",display:"block",align:"center",children:null===u||void 0===u?void 0:u.departureTime})})]}),Object(F.jsx)(We.a,{item:!0,lg:2,children:Object(F.jsx)(zn.a,{className:n.airplaneIcon})}),Object(F.jsxs)(We.a,{item:!0,container:!0,direction:"column",lg:5,justify:"center",children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsxs)(p.a,{variant:"overline",display:"block",align:"center",children:[null===u||void 0===u?void 0:u.to.name," (",null===u||void 0===u?void 0:u.to.city.name,")"]})}),Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(p.a,{variant:"overline",display:"block",align:"center",children:null===u||void 0===u?void 0:u.arrivalTime})})]})]}):Object(F.jsx)(Va.a,{className:n.loading})})})},Ja=n(107),$a=n(164),_a=n(162),Ga=n(446),Ya=n(40),Za=n(511),Qa=n(120),Xa=Object(j.a)((function(e){return{dialogContent:{padding:e.spacing(3)}}})),er=function(e){var t=e.flightForEditing,n=e.closeDialog,r=Xa(),c=Object(o.c)((function(e){return e.token})),i=Object(a.useState)([]),u=Object(s.a)(i,2),l=u[0],j=u[1],d=Object(a.useState)([]),b=Object(s.a)(d,2),p=b[0],f=b[1],O=Object(a.useState)(null===t||void 0===t?void 0:t.flightNumber),m=Object(s.a)(O,2),h=m[0],g=m[1],x=Object(a.useState)(null===t||void 0===t?void 0:t.airplaneId),v=Object(s.a)(x,2),y=v[0],w=v[1],N=Object(a.useState)(null===t||void 0===t?void 0:t.fromAirportId),S=Object(s.a)(N,2),k=S[0],C=S[1],T=Object(a.useState)(null===t||void 0===t?void 0:t.toAirportId),I=Object(s.a)(T,2),A=I[0],P=I[1],D=Object(a.useState)(new Date(null===t||void 0===t?void 0:t.departureTime)),B=Object(s.a)(D,2),V=B[0],E=B[1];console.log(null===t||void 0===t?void 0:t.departureTime),console.log(V);var W=Object(a.useState)(new Date(null===t||void 0===t?void 0:t.arrivalTime)),R=Object(s.a)(W,2),L=R[0],K=R[1],z=Object(a.useState)(null===t||void 0===t?void 0:t.airplaneModel),H=Object(s.a)(z,2),U=H[0],J=H[1],$=Object(a.useState)(null===t||void 0===t?void 0:t.fromAirportName),_=Object(s.a)($,2),G=_[0],Y=_[1],Z=Object(a.useState)(null===t||void 0===t?void 0:t.toAirportName),Q=Object(s.a)(Z,2),X=Q[0],ee=Q[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn();case 2:return t=e.sent,e.next=5,$t();case 5:n=e.sent,j(t),f(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]);var te=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(n=V).getHours()-n.getTimezoneOffset()/60,n.setHours(a),a=(r=L).getHours()-r.getTimezoneOffset()/60,r.setHours(a),e.next=8,Rn(null===t||void 0===t?void 0:t.id,y,h,k,A,n,r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te();case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(zt.a,{className:r.dialogContent,children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsx)(Me.a,{fullWidth:!0,required:!0,variant:"outlined",label:"Flight number",value:h,onChange:function(e){return g(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Airplane"}),Object(F.jsxs)(_a.a,{value:U,onChange:function(e,t){J(e.target.value),w(t.props.id)},input:Object(F.jsx)(Ga.a,{label:"Airplane"}),children:[Object(F.jsx)(Te.a,{value:null===t||void 0===t?void 0:t.airplaneModel,children:null===t||void 0===t?void 0:t.airplaneModel}),l.map((function(e){return Object(F.jsx)(Te.a,{id:e.id,value:e.model,children:e.model},e.id)}))]})]})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Departure airport"}),Object(F.jsxs)(_a.a,{value:G,onChange:function(e,t){Y(e.target.value),C(t.props.id)},input:Object(F.jsx)(Ga.a,{label:"Departure airport"}),children:[Object(F.jsx)(Te.a,{value:null===t||void 0===t?void 0:t.fromAirportName,children:null===t||void 0===t?void 0:t.fromAirportName}),p.map((function(e){return Object(F.jsx)(Te.a,{id:e.id,value:e.name,children:e.name},e.id)}))]})]})}),Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Arrival airport"}),Object(F.jsxs)(_a.a,{value:X,onChange:function(e,t){ee(e.target.value),P(t.props.id)},input:Object(F.jsx)(Ga.a,{label:"Arrival airport"}),children:[Object(F.jsx)(Te.a,{value:null===t||void 0===t?void 0:t.toAirportName,children:null===t||void 0===t?void 0:t.toAirportName}),p.map((function(e){return Object(F.jsx)(Te.a,{id:e.id,value:e.name,children:e.name},e.id)}))]})]})}),Object(F.jsx)(We.a,{item:!0,xs:6,children:Object(F.jsx)(Ya.a,{utils:Qa.a,children:Object(F.jsx)(Za.a,{label:"Departure time",inputVariant:"outlined",fullWidth:!0,variant:"inline",value:V,onChange:function(e){return E(e)}})})}),Object(F.jsx)(We.a,{item:!0,xs:6,children:Object(F.jsx)(Ya.a,{utils:Qa.a,children:Object(F.jsx)(Za.a,{label:"Arrival time",inputVariant:"outlined",fullWidth:!0,variant:"inline",value:L,onChange:function(e){return K(e)}})})})]})}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){g(null===t||void 0===t?void 0:t.flightNumber),w(null===t||void 0===t?void 0:t.airplaneId),C(null===t||void 0===t?void 0:t.fromAirportId),P(null===t||void 0===t?void 0:t.toAirportId),K(new Date(null===t||void 0===t?void 0:t.arrivalTime)),E(new Date(null===t||void 0===t?void 0:t.departureTime)),J(null===t||void 0===t?void 0:t.airplaneModel),Y(null===t||void 0===t?void 0:t.fromAirportName),ee(null===t||void 0===t?void 0:t.toAirportName)},children:"Reset"}),Object(F.jsx)(ye.a,{variant:"contained",color:"primary",disableElevation:!0,onClick:ne,children:"Save"})]})]})},tr=n(252),nr=n.n(tr),ar=n(509),rr=n(66),cr=Object(rr.a)((function(e){return{formField:{width:"100%"}}})),ir=function(e){var t=e.closeDialog,n=cr(),r=Object(o.c)((function(e){return e.token})),c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],l=i[1],j=Object(a.useState)([]),d=Object(s.a)(j,2),b=d[0],p=d[1],f=Object(a.useState)(),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)(),N=Object(s.a)(w,2),S=N[0],k=N[1],C=Object(a.useState)(),T=Object(s.a)(C,2),I=T[0],A=T[1],P=Object(a.useState)(new Date),D=Object(s.a)(P,2),B=D[0],V=D[1],E=Object(a.useState)(new Date),W=Object(s.a)(E,2),R=W[0],L=W[1],K=Object(a.useState)(),z=Object(s.a)(K,2),H=z[0],U=z[1],J=Object(a.useState)(),$=Object(s.a)(J,2),_=$[0],G=$[1],Y=Object(a.useState)(""),Z=Object(s.a)(Y,2),Q=Z[0],X=Z[1],ee=Object(a.useState)(""),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ce=Object(s.a)(re,2),ie=ce[0],oe=ce[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn();case 2:return t=e.sent,e.next=5,$t();case 5:n=e.sent,l(t),p(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r]);var se=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(v,m,S,I,B,R,H,_);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(zt.a,{children:Object(F.jsx)("form",{children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{className:n.formField,variant:"outlined",label:"Flight number",onChange:function(e){return h(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Airplane"}),Object(F.jsx)(_a.a,{value:Q,onChange:function(e){return X(e.target.value)},input:Object(F.jsx)(Ga.a,{label:"Airplane"}),children:0!==(null===u||void 0===u?void 0:u.length)?null===u||void 0===u?void 0:u.map((function(e){return Object(F.jsx)(Te.a,{value:e.model,onClick:function(){return y(e.id)},children:e.model},e.id)})):Object(F.jsx)(Te.a,{disabled:!0,children:"No free airplanes"})})]})}),Object(F.jsxs)(We.a,{item:!0,container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Departure airport"}),Object(F.jsx)(_a.a,{value:ne,onChange:function(e){return ae(e.target.value)},input:Object(F.jsx)(Ga.a,{label:"Departure airport"}),children:null===b||void 0===b?void 0:b.map((function(e){return Object(F.jsx)(Te.a,{value:e.name,onClick:function(){return k(e.id)},children:e.name},e.id)}))})]})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsxs)(Ja.a,{fullWidth:!0,variant:"outlined",children:[Object(F.jsx)($a.a,{children:"Arrival airport"}),Object(F.jsx)(_a.a,{value:ie,onChange:function(e){return oe(e.target.value)},input:Object(F.jsx)(Ga.a,{label:"Arrival airport"}),children:null===b||void 0===b?void 0:b.map((function(e){return Object(F.jsx)(Te.a,{value:e.name,onClick:function(){return A(e.id)},children:e.name},e.id)}))})]})})]}),Object(F.jsx)(We.a,{item:!0,container:!0,spacing:2,children:Object(F.jsxs)(Ya.a,{utils:Qa.a,children:[Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Za.a,{inputVariant:"outlined",className:n.formField,disablePast:!0,value:B,onChange:function(e){return V(e)},variant:"inline",label:"Departure date"})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Za.a,{inputVariant:"outlined",className:n.formField,value:R,onChange:function(e){return L(e)},variant:"inline",label:"Arrival date"})})]})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{className:n.formField,variant:"outlined",label:"Free baggage limit",type:"number",InputProps:{startAdornment:Object(F.jsx)(ar.a,{position:"start",children:"Kg"})},onChange:function(e){return U(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{className:n.formField,variant:"outlined",label:"Overweight price for 1 Kg",type:"number",InputProps:{startAdornment:Object(F.jsx)(ar.a,{position:"start",children:"$"})},onChange:function(e){return G(e.target.value)}})})]})})}),Object(F.jsx)(Ht.a,{children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",startIcon:Object(F.jsx)(nr.a,{}),onClick:ue,children:"Create"})})]})},or=Object(j.a)((function(e){return{flightsGrid:{height:"500px",width:"100%"},tableHeader:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),sr=function(){var e=or(),t=null,n=Object(o.c)((function(e){return e.token})),r=Object(a.useState)([]),c=Object(s.a)(r,2),i=c[0],u=c[1],l=Object(a.useState)([]),j=Object(s.a)(l,2),d=j[0],b=j[1],f=Object(a.useState)([]),O=Object(s.a)(f,2),m=O[0],h=O[1],g=Object(a.useState)(0),x=Object(s.a)(g,2),v=x[0],y=x[1],w=Object(a.useState)(0),N=Object(s.a)(w,2),S=N[0],k=N[1],C=Object(a.useState)(0),T=Object(s.a)(C,2),I=T[0],A=T[1],P=Object(a.useState)(""),D=Object(s.a)(P,2),B=D[0],V=D[1],E=Object(a.useState)(""),W=Object(s.a)(E,2),R=W[0],L=W[1],K=Object(a.useState)(),z=Object(s.a)(K,2),H=z[0],U=z[1],J=Object(a.useState)(!1),$=Object(s.a)(J,2),_=$[0],G=$[1],Y=Object(a.useState)(),Z=Object(s.a)(Y,2),Q=Z[0],X=Z[1],ee=Object(a.useState)(!1),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(!1),ce=Object(s.a)(re,2),ie=ce[0],oe=ce[1],se=[{field:"id",headerName:"ID",width:100},{field:"flightNumber",headerName:"Flight number",width:150},{field:"airplaneModel",headerName:"Airplane model",width:200},{field:"airplaneRegistartionNumber",headerName:"Airplane registration number",width:300},{field:"fromAirportName",headerName:"Departure airport",width:200},{field:"toAirportName",headerName:"Arrival airport",width:150},{field:"departureTime",headerName:"Departure time",width:200},{field:"arrivalTime",headerName:"Arrival time",width:200},{field:"actions",headerName:"Actions",width:200,renderCell:function(t){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(gt.a,{title:"Edit",children:Object(F.jsx)(xt.a,{onClick:function(){return be(t.row)},color:"primary",children:Object(F.jsx)(yt.a,{})})}),Object(F.jsx)(gt.a,{title:"More info",children:Object(F.jsx)(xt.a,{color:"primary",onClick:function(){return de(t.id)},children:Object(F.jsx)(Ba.a,{className:e.moreInfoIcon})})})]})}}],ue=m.map((function(e){return{id:e.id,flightNumber:e.flightNumber,airplaneId:e.airplane.id,airplaneModel:e.airplane.model,airplaneRegistartionNumber:e.airplane.registrationNumber,fromAirportName:e.from.name,fromAirportId:e.from.id,toAirportName:e.to.name,toAirportId:e.to.id,departureTime:e.departureTime,arrivalTime:e.arrivalTime}})),le=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,En(I,5,B,R);case 2:return t=e.sent,e.next=5,qn(B,R);case 5:n=e.sent,h(t),y(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cn({departureCity:B,arrivalCity:R});case 2:t=e.sent,n=t.map((function(e){return e.departureCity})),a=t.map((function(e){return e.arrivalCity})),u(Object(ht.a)(new Set(n))),b(Object(ht.a)(new Set(a)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){le()}),[n,I,B,R,_,ie]);var de=function(e){X(e),ae(!0)},be=function(e){U(e),G(!0)},pe=function(){oe(!1)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Kt,{title:"Create flight",isOpened:ie,DialogContent:Object(F.jsx)(ir,{closeDialog:pe}),closeDialog:pe}),Object(F.jsx)(Kt,{title:"More info",isOpened:ne,DialogContent:Object(F.jsx)(Ua,{flightId:Q}),closeDialog:function(){return ae(!1)}}),Object(F.jsx)(Kt,{title:"Edit flight",isOpened:_,DialogContent:Object(F.jsx)(er,{flightForEditing:H,closeDialog:function(){return G(!1)}}),closeDialog:function(){return G(!1)}}),Object(F.jsxs)("div",{className:e.tableHeader,children:[Object(F.jsx)(p.a,{variant:"h3",children:"Flights"}),Object(F.jsx)(Pt,{fields:["Departure city","Arrival city"],fieldsOptions:[i,d],onFilterConfirmed:function(e){clearTimeout(t),e[0]||e[1]||(u([]),b([])),(e[0]||e[1])&&(t=setTimeout((function(){return je()}),500))},onSearchClick:function(e){V(e[0]),L(e[1]),k(0),A(0)}})]}),Object(F.jsx)(It,{page:S,rows:ue,columns:se,onPageChange:function(e){k(e),A(5*e)},rowCount:v,onAddClick:function(){return oe(!0)}})]})},ur=n(520),lr=n(510),jr=n(517),dr=n(521),br=n(158),pr=n.n(br),fr=n(441),Or=Object(j.a)((function(e){return{formField:{width:"100%"},airplaneCreationForm:{padding:e.spacing(1)},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}}})),mr=function(e){var t=e.handleNext,n=e.handleAirplaneCreation,r=Or(),c=Object(o.b)(),i=Object(a.useState)(),u=Object(s.a)(i,2),l=u[0],j=u[1],d=Object(a.useState)(),b=Object(s.a)(d,2),f=b[0],O=b[1],m=Object(a.useState)(""),h=Object(s.a)(m,2),g=h[0],x=h[1],v=Object(a.useState)(),y=Object(s.a)(v,2),w=y[0],N=y[1],S=Object(a.useState)(),k=Object(s.a)(S,2),C=k[0],T=k[1],I=Object(a.useState)(),A=Object(s.a)(I,2),P=A[0],D=A[1],B=Object(a.useState)(),V=Object(s.a)(B,2),E=V[0],W=V[1],R=Object(a.useState)(""),L=Object(s.a)(R,2),K=L[0],z=L[1],H=Object(a.useState)(""),U=Object(s.a)(H,2),J=U[0],$=U[1],_=Object(a.useState)([]),G=Object(s.a)(_,2),Y=G[0],Z=G[1],Q=Object(a.useState)([]),X=Object(s.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)(!0),ae=Object(s.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(a.useState)(!0),ue=Object(s.a)(ie,2),le=ue[0],je=ue[1],de=Object(a.useState)(!0),be=Object(s.a)(de,2),pe=be[0],fe=be[1],Oe=Object(a.useState)(!0),me=Object(s.a)(Oe,2),he=me[0],ge=me[1],xe=Object(a.useState)(!0),ve=Object(s.a)(xe,2),we=ve[0],Ne=ve[1],Se=Object(a.useState)(!0),ke=Object(s.a)(Se,2),Ce=ke[0],Ie=ke[1],Fe=Object(a.useState)(!0),Ae=Object(s.a)(Fe,2),Pe=Ae[0],De=Ae[1],Be=Object(a.useState)(!1),Ve=Object(s.a)(Be,2),Ee=Ve[0],qe=Ve[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn();case 2:return t=e.sent,e.next=5,lt();case 5:n=e.sent,Z(t),te(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Re=function(){var e=Object(M.a)(q.a.mark((function e(){var a,r,i,o,u,j,d;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe(""),a=!0,g?ce(!0):(ce(!1),a=!1),!w||w.length>7?(je(!1),a=!1):je(!0),l?fe(!0):(fe(!1),a=!1),!C||parseInt(C,10)<=0?(ge(!1),a=!1):ge(!0),!P||parseInt(P,10)<=0?(Ne(!1),a=!1):Ne(!0),!E||parseInt(E,10)<=0?(Ie(!1),a=!1):Ie(!0),f?De(!0):(De(!1),a=!1),!a){e.next=17;break}return e.next=12,Nn(l,f,g,w,C,P,E);case 12:r=e.sent,i=Object(s.a)(r,2),o=i[0],(u=i[1])?qe(null===(j=u.response)||void 0===j||null===(d=j.data)||void 0===d?void 0:d.message):(c(se(!0)),c(oe("The airplane was registered successfully!")),n(o),t());case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{children:[Object(F.jsx)("form",{className:r.airplaneCreationForm,children:Object(F.jsxs)(We.a,{container:!0,direction:"column",spacing:1,children:[Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{required:!0,className:r.formField,error:!re,helperText:!re&&"It's required field",variant:"outlined",label:"Model",onChange:function(e){return x(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{required:!0,className:r.formField,error:!le,helperText:!le&&"It's required field and containes less 7 symbols",variant:"outlined",label:"Registration number",onChange:function(e){return N(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(Ja.a,{className:r.formField,error:!pe,required:!0,children:[Object(F.jsx)($a.a,{children:"Airplane type"}),Object(F.jsx)(_a.a,{value:K,onChange:function(e){return z(e.target.value)},children:Y.map((function(e){return Object(F.jsx)(Te.a,{value:e.typeName,onClick:function(){return j(e.id)},children:e.typeName},e.id)}))}),Object(F.jsx)(fr.a,{children:!pe&&"It's required field"})]})}),Object(F.jsxs)(We.a,{item:!0,container:!0,spacing:1,children:[Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{required:!0,className:r.formField,type:"number",error:!he,helperText:!he&&"It's required field (Only positive value)",variant:"outlined",label:"Rows number",onChange:function(e){return T(e.target.value)}})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{required:!0,className:r.formField,type:"number",error:!we,helperText:!we&&"It's required field (Only positive value)",variant:"outlined",label:"Places number in a row",onChange:function(e){return D(e.target.value)}})})]}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{required:!0,className:r.formField,type:"number",error:!Ce,helperText:!Ce&&"It's required field (Only positive value)",variant:"outlined",label:"Baggage capacity",onChange:function(e){return W(e.target.value)},InputProps:{startAdornment:Object(F.jsx)(ar.a,{position:"start",children:"Kg"})}})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(Ja.a,{className:r.formField,error:!Pe,required:!0,children:[Object(F.jsx)($a.a,{children:"Company"}),Object(F.jsx)(_a.a,{value:J,onChange:function(e){return $(e.target.value)},children:ee.map((function(e){return Object(F.jsx)(Te.a,{value:e.name,onClick:function(){return O(e.id)},children:e.name},e.id)}))}),Object(F.jsx)(fr.a,{children:!Pe&&"It's required field"})]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(p.a,{variant:"subtitle1",color:"error",children:Ee})})]})}),Object(F.jsx)("div",{className:r.actionsContainer,children:Object(F.jsx)("div",{children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:Re,className:r.button,children:"Create"})})})]})},hr=n(254),gr=n.n(hr),xr=n(496),vr=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.get("".concat("api/placeTypes")).then((function(e){return e.data})).catch((function(e){return console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yr=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.post("".concat(T),t,be(n.jwtToken)).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wr=function(){var e=Object(M.a)(q.a.mark((function e(t,n){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.put("".concat(T,"/").concat(t,"/block?blockingByUserId=").concat(n||""));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Nr=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.put("".concat(T,"/").concat(t,"/unblock"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sr=Object(xr.a)(),kr=function(e){var t=e.placeType,n=e.index,r=e.handleChange,c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],l=Object(a.useState)(t),j=Object(s.a)(l,2),d=j[0],b=j[1],p=Object(a.useState)(!1),f=Object(s.a)(p,2),O=f[0],m=f[1],h=Object(a.useState)({placeTypeName:""}),g=Object(s.a)(h,2),x=g[0],v=g[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vr();case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){v({placeTypeName:""}),m(!1)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(Ft.a,{value:d,onChange:function(e,t){if("string"===typeof t)setTimeout((function(){m(!0),v({placeTypeName:t})}));else if(t&&t.inputValue)m(!0),v({placeTypeName:t.inputValue});else{var a=d;a||(a={id:"",name:"",amount:"",isTypeValid:!0,isAmountValid:!0}),a.id=null===t||void 0===t?void 0:t.id,a.name=null===t||void 0===t?void 0:t.name,b(a),r(n,a)}},filterOptions:function(e,t){var n=Sr(e,t);return""!==t.inputValue&&n.push({inputValue:t.inputValue,name:'Add "'.concat(t.inputValue,'"')}),n},options:o,getOptionLabel:function(e){return"string"===typeof e?e:e.inputValue?e.inputValue:e.name||""},selectOnFocus:!0,clearOnBlur:!0,renderOption:function(e){return e.name},freeSolo:!0,renderInput:function(e){return Object(F.jsx)(Me.a,Object(we.a)(Object(we.a)({},e),{},{label:"Place type",variant:"outlined",required:!0,error:!!t&&!t.isTypeValid}))}}),Object(F.jsx)(Dt.a,{open:O,onClose:y,"aria-labelledby":"form-dialog-title",children:Object(F.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=d;t.id="",t.name=x.placeTypeName,b(t),r(n,t),y()},children:[Object(F.jsx)(Bt.a,{id:"form-dialog-title",children:"Add a new place type"}),Object(F.jsxs)(zt.a,{children:[Object(F.jsx)(ba.a,{children:"Did we miss any type in our list? Please, add it!"}),Object(F.jsx)(Me.a,{autoFocus:!0,margin:"dense",id:"name",value:x.placeTypeName,onChange:function(e){return v(Object(we.a)(Object(we.a)({},x),{},{placeTypeName:e.target.value}))},label:"Type name",type:"text"})]}),Object(F.jsxs)(Ht.a,{children:[Object(F.jsx)(ye.a,{onClick:y,color:"primary",children:"Cancel"}),Object(F.jsx)(ye.a,{type:"submit",color:"primary",children:"Add"})]})]})})]})},Cr=Object(j.a)((function(e){return{button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},textField:{width:"100%"}}})),Tr=function(e){var t=e.airplane,n=t.id,r=(t.rows,t.columns,e.handleNext),c=Cr(),i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],l=o[1],j=function(){var e=Object(M.a)(q.a.mark((function e(){var t,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!0,(a=Object(ht.a)(u)).forEach((function(e,n){var r=!0;e||(console.log("hehe"),e={isTypeValid:!1,isAmountValid:!1},r=!1,t=!1),r&&(e.name?e.isTypeValid=!0:(e.isTypeValid=!1,r=!1,t=!1),!e.amount||parseInt(e.amount,10)<0?(e.isAmountValid=!1,r=!1,t=!1):e.isAmountValid=!0),a[n]=e})),l(a),!t){e.next=11;break}return c=u.map((function(e){return{placeTypeId:e.id,placeTypeName:e.name,placeAmount:parseInt(e.amount,10)}})),console.log("he"),e.next=9,yr({airplaneId:n,places:c});case 9:console.log("he"),r();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e,t){var n=Object(ht.a)(u);n[e]=t,l(n)};return Object(F.jsxs)("div",{children:[Object(F.jsx)(We.a,{container:!0,spacing:2,children:u.map((function(e,t){return Object(F.jsxs)(We.a,{item:!0,container:!0,lg:12,spacing:1,children:[Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(kr,{placeType:e,index:t,handleChange:d,className:c.textField})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{required:!0,error:!!e&&!e.isAmountValid,className:c.textField,onChange:function(e){return function(e,t){var n=Object(ht.a)(u);n[e].amount=t,l(n)}(t,e.target.value)},variant:"outlined",label:"Amount of such places",type:"number"})})]},t)}))}),Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(e){var t=[].concat(Object(ht.a)(u),[{id:"",name:"",amount:"",isTypeValid:!0,isAmountValid:!0}]);l(t)},startIcon:Object(F.jsx)(gr.a,{}),children:"Add new place type"}),Object(F.jsx)("div",{className:c.actionsContainer,children:Object(F.jsx)("div",{children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:j,className:c.button,children:"Fulfill"})})})]})},Ir=Object(j.a)((function(e){return{button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},textField:{width:"100%"}}})),Fr=[{field:"placeType",headerName:"Place type",flex:1},{field:"ticketPrice",headerName:"Price",flex:1,type:"number",editable:!0,valueFormatter:function(e){return"".concat(e.value," $")}}],Ar=function(e){var t=e.airplaneId,n=e.handleBackToAdminTable,r=Ir(),c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);var l=function(){var e=Object(M.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.map((function(e){return{id:e.id,airplaneId:e.airplaneId,placeTypeId:e.placeTypeId,ticketPrice:parseInt(e.ticketPrice,10)}})),e.next=3,fn(t);case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{style:{height:400,width:"100%"},children:[Object(F.jsx)(Ye.a,{rows:o,columns:Fr,pageSize:5,disableColumnMenu:!0,onEditCellChange:function(e){for(var t=o,n=0;n<t.length;n++)if(t[n].id===e.id){t[n].ticketPrice=e.props.value;break}u(t)}}),Object(F.jsx)("div",{className:r.actionsContainer,children:Object(F.jsx)("div",{children:Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:l,className:r.button,children:"Save prices"})})})]})},Pr=function(e,t,n,a,r,c){switch(e){case 0:return Object(F.jsx)(mr,{handleNext:t,handleAirplaneCreation:c});case 1:return Object(F.jsx)(Tr,{airplane:a,handleNext:t});case 2:return Object(F.jsx)(Ar,{airplaneId:r,handleBackToAdminTable:n});default:return Object(F.jsx)(F.Fragment,{})}},Dr=function(){var e=Object(l.g)(),t=Object(a.useState)(0),n=Object(s.a)(t,2),r=n[0],c=n[1],i=["Create airplane","Fulfill created airplane","Create prices"],o=Object(a.useState)(),u=Object(s.a)(o,2),j=u[0],d=u[1],b=Object(a.useState)(),p=Object(s.a)(b,2),f=p[0],O=p[1],m=function(e){O(e),d(null===e||void 0===e?void 0:e.id)},h=function(){c((function(e){return e+1}))},g=function(){e.goBack()};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ye.a,{variant:"outlined",color:"inherit",onClick:g,startIcon:Object(F.jsx)(pr.a,{}),children:"Back"}),Object(F.jsx)(ur.a,{activeStep:r,orientation:"vertical",children:i.map((function(e,t){return Object(F.jsxs)(lr.a,{children:[Object(F.jsx)(jr.a,{children:e}),Object(F.jsx)(dr.a,{children:Pr(t,h,g,f,j,m)})]},e)}))})]})},Br=function(){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(Dr,{})})},Vr=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=je.getState().token,e.next=3,pe.post("".concat("api/bookings"),t,be(n.jwtToken)).then((function(e){return[e.data,null]})).catch((function(e){return[null,e]}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Er=Object(j.a)((function(e){return{selectedFlightPaper:{padding:e.spacing(3)}}})),qr=function(e){var t=e.selectedFlight,n=Er();return Object(F.jsx)(ke.a,{className:n.selectedFlightPaper,children:Object(F.jsx)(Un,{flight:t})})},Mr=Object(j.a)((function(e){return{placeButton:{margin:2,height:25,width:25,minWidth:0,padding:0}}})),Wr=function(e){var t=e.selectedPlaces,n=e.place,r=e.handlePlaceSelection,c=e.handlePlaceRejection,i=Mr(),u=Object(o.c)((function(e){return e.token})),l=me(u.jwtToken),j=Object(a.useState)((function(){var e=!1;return t.forEach((function(t){t.id===n.id&&(e=!0)})),n.isFree||(e=!0),Object(we.a)(Object(we.a)({},n),{},{isSelected:e})})),d=Object(s.a)(j,2),b=d[0],p=d[1];return Object(F.jsx)(F.Fragment,{children:!n.bookingId&&(n.isFree||n.lastBlockedByUserId&&n.lastBlockedByUserId===l)?Object(F.jsx)(ye.a,{variant:"contained",color:b.isSelected?"default":"primary",className:i.placeButton,onClick:function(){b.isSelected?(p(Object(we.a)(Object(we.a)({},b),{},{isSelected:!1})),c(n)):(p(Object(we.a)(Object(we.a)({},b),{},{isSelected:!0})),r(n))}},n.id):Object(F.jsx)(xt.a,{disabled:!0,className:i.placeButton,children:Object(F.jsx)(Et.a,{})})})},Rr=n(442),Lr=n(262),Kr=Object(j.a)((function(e){return{baggageService:{padding:e.spacing(2)},baggageWeightField:{width:"100%"},baggageServices:{padding:"15px"}}})),zr=function(e){var t,n,r=e.selectedFlight,c=e.isBaggageServiceChecked,i=e.handleBaggageChecked,o=e.baggageWeight,u=e.handleBaggageWeightChange,l=Kr(),j=Object(a.useState)(!0),d=Object(s.a)(j,2),b=d[0],f=d[1],O=Object(a.useState)(""),m=Object(s.a)(O,2),h=m[0],g=m[1];return Object(F.jsxs)(ke.a,{className:l.baggageService,children:[Object(F.jsx)(Rr.a,{control:Object(F.jsx)(Lr.a,{checked:c,onChange:i}),label:"Will you have baggage?"}),c?Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,lg:!0,children:Object(F.jsx)(Me.a,{error:!b,helperText:!b&&h,className:l.baggageWeightField,required:!0,variant:"outlined",type:"number",label:"Your baggage weight",defaultValue:o,onChange:function(e){var t;if(e.target.value<0)f(!1),g("Value must be greater than or equal to 0 Kg");else if(e.target.value>(null===r||void 0===r||null===(t=r.airplane)||void 0===t?void 0:t.onePersonBaggageLimitInKilograms)){var n;f(!1),g("Value must be less than or equal to ".concat(null===r||void 0===r||null===(n=r.airplane)||void 0===n?void 0:n.onePersonBaggageLimitInKilograms," Kg"))}else b||f(!0);u(e)},InputProps:{startAdornment:Object(F.jsx)(ar.a,{position:"start",children:"Kg"}),inputProps:{min:0,max:null===r||void 0===r||null===(t=r.airplane)||void 0===t?void 0:t.onePersonBaggageLimitInKilograms}}})}),Object(F.jsx)(We.a,{item:!0,lg:8,children:Object(F.jsx)(ke.a,{className:l.baggageServices,variant:"outlined",children:Object(F.jsxs)(We.a,{container:!0,children:[Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{align:"right",children:["Price for 1 Kg overweight: ",null===r||void 0===r?void 0:r.overweightPrice," ","$"]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{align:"right",children:["Free Baggage Limit:"," ",null===r||void 0===r?void 0:r.freeBaggageLimitInKilograms," Kg"]})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsxs)(p.a,{align:"right",children:["Maximum Baggage Limit:"," ",null===r||void 0===r||null===(n=r.airplane)||void 0===n?void 0:n.onePersonBaggageLimitInKilograms," ","Kg"]})})]})})})]}):null]})},Hr=Object(j.a)((function(e){return{placeSelectionPapper:{padding:e.spacing(3)},placesSection:{display:"inline"},placeButton:{margin:2,height:25,width:25,minWidth:0,padding:0}}})),Ur=[{field:"placeType",headerName:"Place type",flex:1},{field:"row",headerName:"Place row",flex:1},{field:"column",headerName:"Place column",flex:1},{field:"price",headerName:"Price",flex:1,valueFormatter:function(e){return"".concat(e.value," $")}}],Jr=function(e){var t=e.selectedPlaces,n=e.selectedFlight,a=e.handlePlaceSelection,r=e.handlePlaceRejection,c=e.isBaggageServiceChecked,i=e.handleBaggageChecked,o=e.baggageWeight,s=e.handleBaggageWeightChange,u=Hr(),l=t.map((function(e){var t;return n.airplane.prices.forEach((function(n){n.placeType===e.placeType&&(t=n.ticketPrice)})),{id:e.id,placeType:e.placeType,row:e.row,column:e.column,price:t}}));return Object(F.jsx)(ke.a,{className:u.placeSelectionPapper,children:Object(F.jsxs)(We.a,{container:!0,justify:"center",spacing:3,children:[Object(F.jsx)(We.a,{item:!0,children:Object(F.jsx)(ke.a,{children:Object(F.jsx)("div",{className:u.placesSection,children:n.airplane.places.map((function(e){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(Wr,{selectedPlaces:t,place:e,handlePlaceSelection:a,handlePlaceRejection:r},e.id),e.column===n.airplane.columns-1?Object(F.jsx)("br",{}):null]})}))})})}),Object(F.jsx)(We.a,{item:!0,lg:8,children:Object(F.jsx)(Ye.a,{rows:l,columns:Ur,disableColumnMenu:!0})}),Object(F.jsx)(We.a,{item:!0,lg:9,children:Object(F.jsx)(zr,{selectedFlight:n,isBaggageServiceChecked:c,handleBaggageChecked:i,baggageWeight:o,handleBaggageWeightChange:s})})]})})},$r=Object(j.a)((function(e){return{contactDetailsPaper:{padding:e.spacing(2)},contactDetailsField:{width:"100%"}}})),_r=function(){var e=$r(),t=Object(o.c)((function(e){return e.customerInfo})),n=Object(o.c)((function(e){return e.token})),r=fe(n.jwtToken),c=Object(o.b)();Object(a.useEffect)((function(){r&&r!==t.email&&(console.log(r),c(te(r)))}),[t.email,r,c]);var i=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Z(t.target.value)),e.next=3,ze(t.target.value);case 3:e.sent.isNotValid?c(Q(!1)):c(Q(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(X(t.target.value)),e.next=3,He(t.target.value);case 3:e.sent.isNotValid?c(ee(!1)):c(ee(!0));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(M.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(te(t.target.value)),e.next=3,Re(t.target.value);case 3:n=e.sent,f(n.errorMessage),n.isNotValid?c(ne(!1)):c(ne(!0));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(M.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(ae(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=Object(a.useState)(""),b=Object(s.a)(d,2),p=b[0],f=b[1];return Object(F.jsx)(ke.a,{className:e.contactDetailsPaper,children:Object(F.jsxs)(We.a,{container:!0,spacing:2,children:[Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{className:e.contactDetailsField,error:!t.email.isValid,helperText:!t.email.isValid&&p,variant:"outlined",required:!0,label:"Email",disabled:!!r,value:t.email.value,onChange:function(e){return l(e)}})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{className:e.contactDetailsField,error:!t.firstName.isValid,helperText:!t.firstName.isValid&&"This field is required",variant:"outlined",required:!0,label:"First name",value:t.firstName.value,onChange:function(e){return i(e)}})}),Object(F.jsx)(We.a,{item:!0,lg:6,children:Object(F.jsx)(Me.a,{className:e.contactDetailsField,error:!t.lastName.isValid,helperText:!t.lastName.isValid&&"This field is required",variant:"outlined",required:!0,label:"Last Name",value:t.lastName.value,onChange:function(e){return u(e)}})}),Object(F.jsx)(We.a,{item:!0,lg:12,children:Object(F.jsx)(Me.a,{className:e.contactDetailsField,variant:"outlined",label:"Phone number",value:t.phone,onChange:function(e){return j(e)}})})]})})},Gr=function(e,t){for(var n=0;n<t.length;n++)if(t[n].placeType===e.placeType)return t[n].ticketPrice},Yr=function(e,t){return t.filter((function(t){return t.placeType===e})).length},Zr=Object(j.a)((function(e){return{finalPricePaper:{padding:e.spacing(2)}}})),Qr=function(e){var t=e.placesTotalPrice,n=e.baggageTotalPrice,r=(e.flight,e.flight),c=r.airplane.prices,i=r.freeBaggageLimitInKilograms,o=r.overweightPrice,u=e.places,l=e.baggageWeight,j=Zr(),d=Object(a.useState)((function(){return function(e,t){var n=[];return e.forEach((function(a){var r=!1;if(n.forEach((function(e){e.placeType===a.placeType&&(r=!0)})),!r){var c=Yr(a.placeType,e),i=Gr(a,t),o=i*c;n=[].concat(Object(ht.a)(n),[{amount:c,placeType:a.placeType,totalPrice:o,onePlacePrice:i}])}})),n}(u,c)})),b=Object(s.a)(d,1)[0];return Object(F.jsx)(ke.a,{className:j.finalPricePaper,children:Object(F.jsxs)(We.a,{container:!0,spacing:1,children:[Object(F.jsx)(We.a,{item:!0,xs:12,children:Object(F.jsxs)(p.a,{variant:"h4",children:["Total price: ",t+n||0," $"]})}),Object(F.jsx)(We.a,{item:!0,xs:6,children:Object(F.jsxs)(ke.a,{variant:"outlined",className:j.finalPricePaper,children:[Object(F.jsxs)(p.a,{variant:"h6",children:["Places: ",t," $"]}),Object(F.jsx)("hr",{}),b.map((function(e){return Object(F.jsxs)(p.a,{children:[e.amount," x ",e.placeType,": ",e.totalPrice," $ (",e.onePlacePrice," $ per 1 place)"]},e.placeType)}))]})}),Object(F.jsx)(We.a,{item:!0,xs:6,children:Object(F.jsxs)(ke.a,{variant:"outlined",className:j.finalPricePaper,children:[Object(F.jsxs)(p.a,{variant:"h6",children:["Baggage: ",n," $"]}),Object(F.jsx)("hr",{}),Object(F.jsxs)(p.a,{children:["Your baggage: ",l," Kg (Free limit:"," ",i," Kg)"]}),l>i&&Object(F.jsxs)(p.a,{children:["Overweight: ",l-i," Kg"]}),Object(F.jsxs)(p.a,{children:["Overweight price:"," ",l>i?(l-i)*o:0," ","$ (",o," $ per 1 Kg)"]})]})})]})})},Xr=Object(j.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},errorMessage:{padding:e.spacing(1)}}})),ec="Select places",tc="Contact details",nc=function(e){var t=e.flight,n=Xr(),c=Object(l.g)(),i=Object(o.c)((function(e){return e.customerInfo})),u=Object(o.b)(),j=Object(o.c)((function(e){return e.token})),d=r.a.useState(0),b=Object(s.a)(d,2),f=b[0],O=b[1],m=["Selected flight",ec,tc,"Final price"],h=Object(a.useState)(0),g=Object(s.a)(h,2),x=g[0],v=g[1],y=Object(a.useState)((function(){var e,n,a=[];return null===t||void 0===t||null===(e=t.airplane)||void 0===e||null===(n=e.places)||void 0===n||n.forEach((function(e){e.isFree||e.bookingId||e.lastBlockedByUserId!==me(j.jwtToken)||(a=[].concat(Object(ht.a)(a),[e]),v((function(){return x+Z(e,t.airplane.prices)})))})),a})),w=Object(s.a)(y,2),N=w[0],S=w[1],k=Object(a.useState)(0),C=Object(s.a)(k,2),T=C[0],I=C[1],A=Object(a.useState)(!1),P=Object(s.a)(A,2),D=P[0],B=P[1],V=Object(a.useState)(!0),E=Object(s.a)(V,2),W=E[0],R=E[1],L=Object(a.useState)(""),K=Object(s.a)(L,2),z=K[0],H=K[1],U=Object(a.useState)(0),J=Object(s.a)(U,2),$=J[0],_=J[1],G=function(e){e.target.value>t.freeBaggageLimitInKilograms?_(Math.ceil(e.target.value-t.freeBaggageLimitInKilograms)*t.overweightPrice):_(0),e.target.value?I(e.target.value):I(0)},Y=function(e){B(e.target.checked)},Z=function(e,t){for(var n=0;n<t.length;n++)if(e.placeType===t[n].placeType)return t[n].ticketPrice;return 0},X=function(e){wr(e.id,me(j.jwtToken)),v((function(){return x+Z(e,t.airplane.prices)})),S([].concat(Object(ht.a)(N),[e]))},te=function(e){Nr(e.id);var n=N.filter((function(t){return t.id!==e.id}));v((function(){return x-Z(e,t.airplane.prices)})),S(n)},ae=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m[f]===ec?0===N.length?(R(!1),H("You have to choose places in airplane")):T<0||T>(null===t||void 0===t||null===(n=t.airplane)||void 0===n?void 0:n.onePersonBaggageLimitInKilograms)?(R(!1),H("You have to enter correct baggage weight")):(R(!0),H(""),O((function(e){return e+1}))):m[f]===tc?(a=!0,i.firstName.value||(u(Q(!1)),a=!1),i.lastName.value||(u(ee(!1)),a=!1),i.email.value||(u(ne(!1)),a=!1),a&&O((function(e){return e+1}))):O((function(e){return e+1}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){O((function(e){return e-1}))},ce=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a,r,o,l,d,b;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.map((function(e){return e.id})),e.next=3,Vr({flightId:t.id,userId:me(j.jwtToken),placesId:n,baggageWeightInKilograms:D?parseFloat(T):0,customerFirstName:i.firstName.value,customerLastName:i.lastName.value,customerEmail:i.email.value,customerPhone:i.phone,placesTotalPrice:x,baggageTotalPrice:$});case 3:a=e.sent,r=Object(s.a)(a,2),o=r[0],l=r[1],o?(u(ue(!0)),c.goBack()):(R(!1),H(null===(d=l.response)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.message));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){switch(e){case 0:return Object(F.jsx)(qr,{selectedFlight:t});case 1:return Object(F.jsx)(Jr,{selectedPlaces:N,selectedFlight:t,handlePlaceSelection:X,handlePlaceRejection:te,isBaggageServiceChecked:D,handleBaggageChecked:Y,baggageWeight:T,handleBaggageWeightChange:G});case 2:return Object(F.jsx)(_r,{});case 3:return Object(F.jsx)(Qr,{placesTotalPrice:x,baggageTotalPrice:$,flight:t,places:N,baggageWeight:T});default:return"Unknown step"}};return Object(F.jsx)("div",{className:n.root,children:Object(F.jsx)(ur.a,{activeStep:f,orientation:"vertical",children:m.map((function(e,t){return Object(F.jsxs)(lr.a,{children:[Object(F.jsx)(jr.a,{children:e}),Object(F.jsxs)(dr.a,{children:[ie(t),!W&&Object(F.jsx)(p.a,{className:n.errorMessage,variant:"h6",color:"error",children:z}),Object(F.jsx)("div",{className:n.actionsContainer,children:Object(F.jsxs)("div",{children:[Object(F.jsx)(ye.a,{disabled:0===f,onClick:re,className:n.button,children:"Back"}),f===m.length-1?Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:ce,className:n.button,children:"Finish"}):Object(F.jsx)(ye.a,{variant:"contained",color:"primary",onClick:ae,className:n.button,children:"Next"})]})})]})]},e)}))})})},ac=function(){var e,t,n=Object(l.h)(),r=Object(l.g)(),c=Object(a.useState)(),i=Object(s.a)(c,2),o=i[0],u=i[1];Object(a.useEffect)((function(){(function(){var e=Object(M.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mn(null===(t=n.state)||void 0===t?void 0:t.flight.id);case 2:a=e.sent,u(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[null===(e=n.state)||void 0===e?void 0:e.flight.id]);return Object(F.jsxs)("div",{children:[Object(F.jsx)(ye.a,{variant:"outlined",color:"inherit",onClick:function(){r.push("/")},startIcon:Object(F.jsx)(pr.a,{}),children:"Back"}),Object(F.jsx)(nc,{flight:o||(null===(t=n.state)||void 0===t?void 0:t.flight)})]})},rc=n(522),cc=n(516),ic=function(e){return Object(F.jsx)(cc.a,Object(we.a)({elevation:6,variant:"filled"},e))},oc=function(){var e=Object(o.c)((function(e){return e.notifications})),t=Object(o.b)();Object(a.useEffect)((function(){var n=function(){var e=Object(M.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,setTimeout((function(){t(se(!1)),t(oe(""))}),3e3);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e.isSimpleSuccessNotificationActive&&n()}),[e.isSimpleSuccessNotificationActive]);return Object(F.jsx)(rc.a,{open:e.isSimpleSuccessNotificationActive,children:Object(F.jsx)(ic,{onClose:function(){t(se(!1)),t(oe(""))},severity:"success",children:Object(F.jsx)(p.a,{variant:"body1",children:e.simpleSuccessNotificationText})})})},sc=function(){var e=Object(o.c)((function(e){return e.notifications})),t=Object(l.h)(),n=Object(l.g)(),a=Object(o.b)();return Object(F.jsx)(rc.a,{open:e.isBookingCreationActive,autoHideDuration:6e3,children:Object(F.jsxs)(ic,{onClose:function(){a(ue(!1))},severity:"success",children:[Object(F.jsx)(p.a,{gutterBottom:!0,variant:"body1",children:"The ticket was booked successfully!"}),"/account"!==t.pathname&&Object(F.jsx)(ye.a,{variant:"outlined",onClick:function(){n.push("/account"),a(ue(!1))},children:"Go to my bookings"})]})})},uc=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(oc,{}),Object(F.jsx)(sc,{})]})},lc=Object(j.a)((function(e){return{deleteButton:{color:da.a[500]},tableHeader:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(2)}}})),jc=function(){var e=lc(),t=Object(o.b)(),n=null,r=Object(l.g)(),c=Object(a.useState)([]),i=Object(s.a)(c,2),u=i[0],j=i[1],d=Object(a.useState)(0),b=Object(s.a)(d,2),f=b[0],O=b[1],m=Object(a.useState)(),h=Object(s.a)(m,2),g=h[0],x=h[1],v=Object(a.useState)([]),y=Object(s.a)(v,2),w=y[0],N=y[1],S=Object(a.useState)([]),k=Object(s.a)(S,2),C=k[0],T=k[1],I=Object(a.useState)([]),A=Object(s.a)(I,2),P=A[0],D=A[1],B=Object(a.useState)(0),V=Object(s.a)(B,2),E=V[0],W=V[1],R=Object(a.useState)(0),L=Object(s.a)(R,2),K=L[0],z=L[1],H=Object(a.useState)(""),U=Object(s.a)(H,2),J=U[0],$=U[1],_=Object(a.useState)(""),G=Object(s.a)(_,2),Y=G[0],Z=G[1],Q=Object(a.useState)(""),X=Object(s.a)(Q,2),ee=X[0],te=X[1],ne=Object(a.useState)(!1),ae=Object(s.a)(ne,2),re=ae[0],ce=ae[1],ie=Object(a.useState)(!1),ue=Object(s.a)(ie,2),le=ue[0],je=ue[1],de=Object(a.useState)(!1),be=Object(s.a)(de,2),pe=be[0],fe=be[1],Oe=[{field:"id",headerName:"ID",width:100},{field:"airplaneType",headerName:"Type",width:150},{field:"companyName",headerName:"Company",width:150},{field:"model",headerName:"Model",width:150},{field:"registrationNumber",headerName:"Registration number",width:200},{field:"baggageCapacity",headerName:"Baggage capacity",width:200,type:"number",valueFormatter:function(e){return"".concat(e.value," Kg")}},{field:"actions",headerName:"Actions",width:200,renderCell:function(t){return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(gt.a,{title:"Delete",children:Object(F.jsx)(xt.a,{className:e.deleteButton,onClick:function(){return xe(t.id)},children:Object(F.jsx)(sa.a,{})})})})}}],me=u.map((function(e){return{id:e.id,airplaneType:e.airplaneType.typeName,companyName:e.company.name,model:e.model,registrationNumber:e.registrationNumber,baggageCapacity:e.baggageCapacityInKilograms}})),he=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wn(K,J,Y,ee);case 2:return t=e.sent,e.next=5,Cn(J,Y,ee);case 5:n=e.sent,j(t),O(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(M.a)(q.a.mark((function e(){var t,n,a,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sn({airplaneType:J,companyName:Y,model:ee});case 2:t=e.sent,n=t.map((function(e){return e.airplaneType})),a=t.map((function(e){return e.companyName})),r=t.map((function(e){return e.model})),N(Object(ht.a)(new Set(n))),T(Object(ht.a)(new Set(a))),D(Object(ht.a)(new Set(r)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){he()}),[K,J,Y,ee,pe,re]);var xe=function(e){x(e),fe(!0)},ve=function(){var e=Object(M.a)(q.a.mark((function e(){var n,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(g);case 2:n=e.sent,a=Object(s.a)(n,2),a[0],a[1]||(t(se(!0)),t(oe("The airplanes was deleted successfully!")),fe(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(pa,{isOpened:pe,handleConfirmation:ve,handleRejection:function(){fe(!1)}}),Object(F.jsx)(Kt,{title:"Edit",isOpened:re,closeDialog:function(){ce(!1)}}),Object(F.jsx)(Kt,{title:"More info",isOpened:le,closeDialog:function(){je(!1)}}),Object(F.jsxs)("div",{className:e.tableHeader,children:[Object(F.jsx)(p.a,{variant:"h3",children:"Airplanes"}),Object(F.jsx)(Pt,{fields:["Airplane type","Company name","Airplane model"],fieldsOptions:[w,C,P],onFilterConfirmed:function(e){clearTimeout(n),e[0]||e[1]||e[2]||(N([]),T([]),D([])),(e[0]||e[1]||e[2])&&(n=setTimeout((function(){return ge()}),500))},onSearchClick:function(e){$(e[0]),Z(e[1]),te(e[2]),W(0),z(0)}})]}),Object(F.jsx)(It,{page:E,rows:me,columns:Oe,onPageChange:function(e){W(e),z(5*e)},rowCount:f,onAddClick:function(){r.push("/admin/airplanes/creation")}})]})},dc="AdminApp",bc="Admin",pc=function(e){var t=e.path,n=e.children,a=e.requiredRoles,r=Object(o.c)((function(e){return e.token})),c=Oe(r.jwtToken);return Object(F.jsx)(l.b,{path:t,children:a.includes(c)?n:Object(F.jsx)(l.a,{to:"/"})})},fc=Object(j.a)((function(e){return{main:{display:"flex"},mainPage:{display:"flex",width:"100%",padding:"25px"},toolBar:e.mixins.toolbar}})),Oc=[dc],mc=[dc,bc],hc=[dc,bc,"User"];var gc=function(){var e=Object(o.c)((function(e){return e.token})),t=fc(),n=Object(a.useState)(""),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){i(Oe(e.jwtToken))}),[e.jwtToken]),Object(F.jsxs)(u.a,{children:[Object(F.jsx)(Ee,{}),Object(F.jsx)("main",{className:t.main,children:Object(F.jsxs)("div",{className:t.mainPage,children:[c===dc?Object(F.jsx)(P,{}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)(d.a,{children:[Object(F.jsx)("div",{className:t.toolBar}),Object(F.jsxs)(l.d,{children:[Object(F.jsx)(l.b,{path:"/SignIn",children:Object(F.jsx)(Je,{})}),Object(F.jsx)(l.b,{path:"/SignUp",children:Object(F.jsx)(_e,{})}),Object(F.jsx)(pc,{path:"/admin/users",requiredRoles:Oc,children:Object(F.jsx)(ia,{})}),Object(F.jsx)(pc,{path:"/admin/companies",requiredRoles:Oc,children:Object(F.jsx)(Pa,{})}),Object(F.jsx)(pc,{path:"/admin/airplanes/creation",requiredRoles:Oc,children:Object(F.jsx)(Br,{})}),Object(F.jsx)(pc,{path:"/admin/airplanes",requiredRoles:Oc,children:Object(F.jsx)(jc,{})}),Object(F.jsx)(pc,{path:"/admin/flights",requiredRoles:Oc,children:Object(F.jsx)(sr,{})}),Object(F.jsx)(pc,{path:"/account",requiredRoles:hc,children:Object(F.jsx)(ct,{})}),Object(F.jsx)(pc,{path:"/myCompany",requiredRoles:mc,children:Object(F.jsx)(Bn,{})}),Object(F.jsx)(l.b,{path:"/reservation",children:Object(F.jsx)(ac,{})}),Object(F.jsx)(l.b,{exact:!0,path:"/",children:Object(F.jsx)(Yn,{})})]})]}),Object(F.jsx)(uc,{})]})}),Object(F.jsx)(qe,{})]})};n(429);i.a.render(Object(F.jsx)(o.a,{store:je,children:Object(F.jsx)(gc,{})}),document.getElementById("root"))}},[[430,1,2]]]);
//# sourceMappingURL=main.cdbb9351.chunk.js.map